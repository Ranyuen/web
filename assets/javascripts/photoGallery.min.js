!function(e,t,n){function i(n,i,r){var o=t.createElement(n);return i&&(o.id=Z+i),r&&(o.style.cssText=r),e(o)}function r(){return n.innerHeight?n.innerHeight:e(n).height()}function o(t,n){n!==Object(n)&&(n={}),this.cache={},this.el=t,this.value=function(t){var i;return void 0===this.cache[t]&&(i=e(this.el).attr("data-cbox-"+t),void 0!==i?this.cache[t]=i:void 0!==n[t]?this.cache[t]=n[t]:void 0!==K[t]&&(this.cache[t]=K[t])),this.cache[t]},this.get=function(t){var n=this.value(t);return e.isFunction(n)?n.call(this.el,this):n}}function s(e){var t=E.length,n=(B+e)%t;return 0>n?t+n:n}function a(e,t){return Math.round((/%/.test(e)?("x"===t?S.width():r())/100:1)*parseInt(e,10))}function u(e,t){return e.get("photo")||e.get("photoRegex").test(t)}function c(e,t){return e.get("retinaUrl")&&n.devicePixelRatio>1?t.replace(e.get("photoRegex"),e.get("retinaSuffix")):t}function l(e){"contains"in b[0]&&!b[0].contains(e.target)&&e.target!==y[0]&&(e.stopPropagation(),b.focus())}function h(e){h.str!==e&&(b.add(y).removeClass(h.str).addClass(e),h.str=e)}function p(t){B=0,t&&!1!==t&&"nofollow"!==t?(E=e("."+ee).filter(function(){return new o(this,e.data(this,J)).get("rel")===t}),-1===(B=E.index(D.el))&&(E=E.add(D.el),B=E.length-1)):E=e(D.el)}function d(n){e(t).trigger(n),ae.triggerHandler(n)}function f(n){var r;if(!G){if(r=e(n).data(J),D=new o(n,r),p(D.get("rel")),!$){$=U=!0,h(D.get("className")),b.css({visibility:"hidden",display:"block",opacity:""}),j=i(ue,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),w.css({width:"",height:""}).append(j),F=T.height()+C.height()+w.outerHeight(!0)-w.height(),H=_.width()+k.width()+w.outerWidth(!0)-w.width(),M=j.outerHeight(!0),W=j.outerWidth(!0);var s=a(D.get("initialWidth"),"x"),u=a(D.get("initialHeight"),"y"),c=D.get("maxWidth"),f=D.get("maxHeight");D.w=Math.max((!1!==c?Math.min(s,a(c,"x")):s)-W-H,0),D.h=Math.max((!1!==f?Math.min(u,a(f,"y")):u)-M-F,0),j.css({width:"",height:D.h}),X.position(),d(te),D.get("onOpen"),O.add(I).hide(),b.focus(),D.get("trapFocus")&&t.addEventListener&&(t.addEventListener("focus",l,!0),ae.one(oe,function(){t.removeEventListener("focus",l,!0)})),D.get("returnFocus")&&ae.one(oe,function(){e(D.el).focus()})}var g=parseFloat(D.get("opacity"));y.css({opacity:g===g?g:"",cursor:D.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),D.get("closeButton")?z.html(D.get("close")).appendTo(w):z.appendTo("<div/>"),v()}}function g(){b||(V=!1,S=e(n),b=i(ue).attr({id:J,class:!1===e.support.opacity?Z+"IE":"",role:"dialog",tabindex:"-1"}).hide(),y=i(ue,"Overlay").hide(),L=e([i(ue,"LoadingOverlay")[0],i(ue,"LoadingGraphic")[0]]),x=i(ue,"Wrapper"),w=i(ue,"Content").append(I=i(ue,"Title"),N=i(ue,"Current"),q=e('<button type="button"/>').attr({id:Z+"Previous"}),R=e('<button type="button"/>').attr({id:Z+"Next"}),P=e('<button type="button"/>').attr({id:Z+"Slideshow"}),L),z=e('<button type="button"/>').attr({id:Z+"Close"}),x.append(i(ue).append(i(ue,"TopLeft"),T=i(ue,"TopCenter"),i(ue,"TopRight")),i(ue,!1,"clear:left").append(_=i(ue,"MiddleLeft"),w,k=i(ue,"MiddleRight")),i(ue,!1,"clear:left").append(i(ue,"BottomLeft"),C=i(ue,"BottomCenter"),i(ue,"BottomRight"))).find("div div").css({float:"left"}),A=i(ue,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),O=R.add(q).add(N).add(P)),t.body&&!b.parent().length&&e(t.body).append(y,b.append(x,A))}function m(){function n(e){e.which>1||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey||(e.preventDefault(),f(this))}return!!b&&(V||(V=!0,R.click(function(){X.next()}),q.click(function(){X.prev()}),z.click(function(){X.close()}),y.click(function(){D.get("overlayClose")&&X.close()}),e(t).bind("keydown."+Z,function(e){var t=e.keyCode;$&&D.get("escKey")&&27===t&&(e.preventDefault(),X.close()),$&&D.get("arrowKey")&&E[1]&&!e.altKey&&(37===t?(e.preventDefault(),q.click()):39===t&&(e.preventDefault(),R.click()))}),e.isFunction(e.fn.on)?e(t).on("click."+Z,"."+ee,n):e("."+ee).live("click."+Z,n)),!0)}function v(){var t,r,o,s=X.prep,l=++ce;if(U=!0,Q=!1,d(se),d(ne),D.get("onLoad"),D.h=D.get("height")?a(D.get("height"),"y")-M-F:D.get("innerHeight")&&a(D.get("innerHeight"),"y"),D.w=D.get("width")?a(D.get("width"),"x")-W-H:D.get("innerWidth")&&a(D.get("innerWidth"),"x"),D.mw=D.w,D.mh=D.h,D.get("maxWidth")&&(D.mw=a(D.get("maxWidth"),"x")-W-H,D.mw=D.w&&D.w<D.mw?D.w:D.mw),D.get("maxHeight")&&(D.mh=a(D.get("maxHeight"),"y")-M-F,D.mh=D.h&&D.h<D.mh?D.h:D.mh),t=D.get("href"),Y=setTimeout(function(){L.show()},100),D.get("inline")){var h=e(t).eq(0);o=e("<div>").hide().insertBefore(h),ae.one(se,function(){o.replaceWith(h)}),s(h)}else D.get("iframe")?s(" "):D.get("html")?s(D.get("html")):u(D,t)?(t=c(D,t),Q=D.get("createImg"),e(Q).addClass(Z+"Photo").bind("error."+Z,function(){s(i(ue,"Error").html(D.get("imgError")))}).one("load",function(){l===ce&&setTimeout(function(){var t;D.get("retinaImage")&&n.devicePixelRatio>1&&(Q.height=Q.height/n.devicePixelRatio,Q.width=Q.width/n.devicePixelRatio),D.get("scalePhotos")&&(r=function(){Q.height-=Q.height*t,Q.width-=Q.width*t},D.mw&&Q.width>D.mw&&(t=(Q.width-D.mw)/Q.width,r()),D.mh&&Q.height>D.mh&&(t=(Q.height-D.mh)/Q.height,r())),D.h&&(Q.style.marginTop=Math.max(D.mh-Q.height,0)/2+"px"),E[1]&&(D.get("loop")||E[B+1])&&(Q.style.cursor="pointer",e(Q).bind("click."+Z,function(){X.next()})),Q.style.width=Q.width+"px",Q.style.height=Q.height+"px",s(Q)},1)}),Q.src=t):t&&A.load(t,D.get("data"),function(t,n){l===ce&&s("error"===n?i(ue,"Error").html(D.get("xhrError")):e(this).contents())})}var y,b,x,w,T,_,k,C,E,S,j,A,L,I,N,P,R,q,z,O,D,F,H,M,W,B,Q,$,U,G,Y,X,V,K={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return e(this).attr("href")},title:function(){return this.title},createImg:function(){var t=new Image,n=e(this).data("cbox-img-attrs");return"object"==typeof n&&e.each(n,function(e,n){t[e]=n}),t},createIframe:function(){var n=t.createElement("iframe"),i=e(this).data("cbox-iframe-attrs");return"object"==typeof i&&e.each(i,function(e,t){n[e]=t}),"frameBorder"in n&&(n.frameBorder=0),"allowTransparency"in n&&(n.allowTransparency="true"),n.name=(new Date).getTime(),n.allowFullscreen=!0,n}},J="colorbox",Z="cbox",ee=Z+"Element",te=Z+"_open",ne=Z+"_load",ie=Z+"_complete",re=Z+"_cleanup",oe=Z+"_closed",se=Z+"_purge",ae=e("<a/>"),ue="div",ce=0,le={},he=function(){function e(){clearTimeout(s)}function t(){(D.get("loop")||E[B+1])&&(e(),s=setTimeout(X.next,D.get("slideshowSpeed")))}function n(){P.html(D.get("slideshowStop")).unbind(u).one(u,i),ae.bind(ie,t).bind(ne,e),b.removeClass(a+"off").addClass(a+"on")}function i(){e(),ae.unbind(ie,t).unbind(ne,e),P.html(D.get("slideshowStart")).unbind(u).one(u,function(){X.next(),n()}),b.removeClass(a+"on").addClass(a+"off")}function r(){o=!1,P.hide(),e(),ae.unbind(ie,t).unbind(ne,e),b.removeClass(a+"off "+a+"on")}var o,s,a=Z+"Slideshow_",u="click."+Z;return function(){o?D.get("slideshow")||(ae.unbind(re,r),r()):D.get("slideshow")&&E[1]&&(o=!0,ae.one(re,r),D.get("slideshowAuto")?n():i(),P.show())}}();e[J]||(e(g),X=e.fn[J]=e[J]=function(t,n){var i,r=this;return t=t||{},e.isFunction(r)&&(r=e("<a/>"),t.open=!0),r[0]?(g(),m()&&(n&&(t.onComplete=n),r.each(function(){var n=e.data(this,J)||{};e.data(this,J,e.extend(n,t))}).addClass(ee),i=new o(r[0],t),i.get("open")&&f(r[0])),r):r},X.position=function(t,n){function i(){T[0].style.width=C[0].style.width=w[0].style.width=parseInt(b[0].style.width,10)-H+"px",w[0].style.height=_[0].style.height=k[0].style.height=parseInt(b[0].style.height,10)-F+"px"}var o,s,u,c=0,l=0,h=b.offset();if(S.unbind("resize."+Z),b.css({top:-9e4,left:-9e4}),s=S.scrollTop(),u=S.scrollLeft(),D.get("fixed")?(h.top-=s,h.left-=u,b.css({position:"fixed"})):(c=s,l=u,b.css({position:"absolute"})),l+=!1!==D.get("right")?Math.max(S.width()-D.w-W-H-a(D.get("right"),"x"),0):!1!==D.get("left")?a(D.get("left"),"x"):Math.round(Math.max(S.width()-D.w-W-H,0)/2),c+=!1!==D.get("bottom")?Math.max(r()-D.h-M-F-a(D.get("bottom"),"y"),0):!1!==D.get("top")?a(D.get("top"),"y"):Math.round(Math.max(r()-D.h-M-F,0)/2),b.css({top:h.top,left:h.left,visibility:"visible"}),x[0].style.width=x[0].style.height="9999px",o={width:D.w+W+H,height:D.h+M+F,top:c,left:l},t){var p=0;e.each(o,function(e){return o[e]!==le[e]?void(p=t):void 0}),t=p}le=o,t||b.css(o),b.dequeue().animate(o,{duration:t||0,complete:function(){i(),U=!1,x[0].style.width=D.w+W+H+"px",x[0].style.height=D.h+M+F+"px",D.get("reposition")&&setTimeout(function(){S.bind("resize."+Z,X.position)},1),e.isFunction(n)&&n()},step:i})},X.resize=function(e){var t;$&&(e=e||{},e.width&&(D.w=a(e.width,"x")-W-H),e.innerWidth&&(D.w=a(e.innerWidth,"x")),j.css({width:D.w}),e.height&&(D.h=a(e.height,"y")-M-F),e.innerHeight&&(D.h=a(e.innerHeight,"y")),e.innerHeight||e.height||(t=j.scrollTop(),j.css({height:"auto"}),D.h=j.height()),j.css({height:D.h}),t&&j.scrollTop(t),X.position("none"===D.get("transition")?0:D.get("speed")))},X.prep=function(n){function r(){return D.w=D.w||j.width(),D.w=D.mw&&D.mw<D.w?D.mw:D.w,D.w}function a(){return D.h=D.h||j.height(),D.h=D.mh&&D.mh<D.h?D.mh:D.h,D.h}if($){var l,p="none"===D.get("transition")?0:D.get("speed");j.remove(),j=i(ue,"LoadedContent").append(n),j.hide().appendTo(A.show()).css({width:r(),overflow:D.get("scrolling")?"auto":"hidden"}).css({height:a()}).prependTo(w),A.hide(),e(Q).css({float:"none"}),h(D.get("className")),l=function(){function n(){!1===e.support.opacity&&b[0].style.removeAttribute("filter")}var i,r,a=E.length;$&&(r=function(){clearTimeout(Y),L.hide(),d(ie),D.get("onComplete")},I.html(D.get("title")).show(),j.show(),a>1?("string"==typeof D.get("current")&&N.html(D.get("current").replace("{current}",B+1).replace("{total}",a)).show(),R[D.get("loop")||a-1>B?"show":"hide"]().html(D.get("next")),q[D.get("loop")||B?"show":"hide"]().html(D.get("previous")),he(),D.get("preloading")&&e.each([s(-1),s(1)],function(){var n,i=E[this],r=new o(i,e.data(i,J)),s=r.get("href");s&&u(r,s)&&(s=c(r,s),n=t.createElement("img"),n.src=s)})):O.hide(),D.get("iframe")?(i=D.get("createIframe"),D.get("scrolling")||(i.scrolling="no"),e(i).attr({src:D.get("href"),class:Z+"Iframe"}).one("load",r).appendTo(j),ae.one(se,function(){i.src="//about:blank"}),D.get("fastIframe")&&e(i).trigger("load")):r(),"fade"===D.get("transition")?b.fadeTo(p,1,n):n())},"fade"===D.get("transition")?b.fadeTo(p,0,function(){X.position(0,l)}):X.position(p,l)}},X.next=function(){!U&&E[1]&&(D.get("loop")||E[B+1])&&(B=s(1),f(E[B]))},X.prev=function(){!U&&E[1]&&(D.get("loop")||B)&&(B=s(-1),f(E[B]))},X.close=function(){$&&!G&&(G=!0,$=!1,d(re),D.get("onCleanup"),S.unbind("."+Z),y.fadeTo(D.get("fadeOut")||0,0),b.stop().fadeTo(D.get("fadeOut")||0,0,function(){b.hide(),y.hide(),d(se),j.remove(),setTimeout(function(){G=!1,d(oe),D.get("onClosed")},1)}))},X.remove=function(){b&&(b.stop(),e[J].close(),b.stop(!1,!0).remove(),y.remove(),G=!1,b=null,e("."+ee).removeData(J).removeClass(ee),e(t).unbind("click."+Z).unbind("keydown."+Z))},X.element=function(){return e(D.el)},X.settings=K)}(jQuery,document,window),jQuery.extend(jQuery.colorbox.settings,{current:"{total}枚中{current}枚目",previous:"前",next:"次",close:"閉じる",xhrError:"コンテンツの読み込みに失敗しました",imgError:"画像の読み込みに失敗しました",slideshowStart:"スライドショー開始",slideshowStop:"スライドショー終了"});var Hogan={};!function(e){function t(e,t,n){var i;return t&&"object"==typeof t&&(void 0!==t[e]?i=t[e]:n&&t.get&&"function"==typeof t.get&&(i=t.get(e))),i}function n(e,t,n,i,r,o){function s(){}function a(){}s.prototype=e,a.prototype=e.subs;var u,c=new s;c.subs=new a,c.subsText={},c.buf="",i=i||{},c.stackSubs=i,c.subsText=o;for(u in t)i[u]||(i[u]=t[u]);for(u in i)c.subs[u]=i[u];r=r||{},c.stackPartials=r;for(u in n)r[u]||(r[u]=n[u]);for(u in r)c.partials[u]=r[u];return c}function i(e){return(null===e||void 0===e?"":e)+""}function r(e){return e=i(e),l.test(e)?e.replace(o,"&amp;").replace(s,"&lt;").replace(a,"&gt;").replace(u,"&#39;").replace(c,"&quot;"):e}e.Template=function(e,t,n,i){e=e||{},this.r=e.code||this.r,this.c=n,this.options=i||{},this.text=t||"",this.partials=e.partials||{},this.subs=e.subs||{},this.buf=""},e.Template.prototype={r:function(){return""},v:r,t:i,render:function(e,t,n){return this.ri([e],t||{},n)},ri:function(e,t,n){return this.r(e,t,n)},ep:function(e,t){var i=this.partials[e],r=t[i.name];if(i.instance&&i.base==r)return i.instance;if("string"==typeof r){if(!this.c)throw Error("No compiler available.");r=this.c.compile(r,this.options)}if(!r)return null;if(this.partials[e].base=r,i.subs){t.stackText||(t.stackText={});for(key in i.subs)t.stackText[key]||(t.stackText[key]=void 0!==this.activeSub&&t.stackText[this.activeSub]?t.stackText[this.activeSub]:this.text);r=n(r,i.subs,i.partials,this.stackSubs,this.stackPartials,t.stackText)}return this.partials[e].instance=r,r},rp:function(e,t,n,i){var r=this.ep(e,n);return r?r.ri(t,n,i):""},rs:function(e,t,n){var i=e[e.length-1];if(!h(i))return void n(e,t,this);for(var r=0;r<i.length;r++)e.push(i[r]),n(e,t,this),e.pop()},s:function(e,t,n,i,r,o,s){var a;return(!h(e)||0!==e.length)&&("function"==typeof e&&(e=this.ms(e,t,n,i,r,o,s)),a=!!e,!i&&a&&t&&t.push("object"==typeof e?e:t[t.length-1]),a)},d:function(e,n,i,r){var o,s=e.split("."),a=this.f(s[0],n,i,r),u=this.options.modelGet,c=null;if("."===e&&h(n[n.length-2]))a=n[n.length-1];else for(var l=1;l<s.length;l++)o=t(s[l],a,u),void 0!==o?(c=a,a=o):a="";return!(r&&!a)&&(r||"function"!=typeof a||(n.push(c),a=this.mv(a,n,i),n.pop()),a)},f:function(e,n,i,r){for(var o=!1,s=null,a=!1,u=this.options.modelGet,c=n.length-1;c>=0;c--)if(s=n[c],void 0!==(o=t(e,s,u))){a=!0;break}return a?(r||"function"!=typeof o||(o=this.mv(o,n,i)),o):!r&&""},ls:function(e,t,n,r,o){var s=this.options.delimiters;return this.options.delimiters=o,this.b(this.ct(i(e.call(t,r)),t,n)),this.options.delimiters=s,!1},ct:function(e,t,n){if(this.options.disableLambda)throw Error("Lambda features disabled.");return this.c.compile(e,this.options).render(t,n)},b:function(e){this.buf+=e},fl:function(){var e=this.buf;return this.buf="",e},ms:function(e,t,n,i,r,o,s){var a,u=t[t.length-1],c=e.call(u);return"function"==typeof c?!!i||(a=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(c,u,n,a.substring(r,o),s)):c},mv:function(e,t,n){var r=t[t.length-1],o=e.call(r);return"function"==typeof o?this.ct(i(o.call(r)),r,n):o},sub:function(e,t,n,i){var r=this.subs[e];r&&(this.activeSub=e,r(t,n,this,i),this.activeSub=!1)}};var o=/&/g,s=/</g,a=/>/g,u=/\'/g,c=/\"/g,l=/[&<>\"\']/,h=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}("undefined"!=typeof exports?exports:Hogan),function(e){function t(e){"}"===e.n.substr(e.n.length-1)&&(e.n=e.n.substring(0,e.n.length-1))}function n(e){return e.trim?e.trim():e.replace(/^\s*|\s*$/g,"")}function i(e,t,n){if(t.charAt(n)!=e.charAt(0))return!1;for(var i=1,r=e.length;r>i;i++)if(t.charAt(n+i)!=e.charAt(i))return!1;return!0}function r(t,n,i,a){var u=[],c=null,l=null,h=null;for(l=i[i.length-1];t.length>0;){if(h=t.shift(),l&&"<"==l.tag&&!(h.tag in w))throw Error("Illegal content in < super tag.");if(e.tags[h.tag]<=e.tags.$||o(h,a))i.push(h),h.nodes=r(t,h.tag,i,a);else{if("/"==h.tag){if(0===i.length)throw Error("Closing tag without opener: /"+h.n);if(c=i.pop(),h.n!=c.n&&!s(h.n,c.n,a))throw Error("Nesting error: "+c.n+" vs. "+h.n);return c.end=h.i,u}"\n"==h.tag&&(h.last=0==t.length||"\n"==t[0].tag)}u.push(h)}if(i.length>0)throw Error("missing closing tag: "+i.pop().n);return u}function o(e,t){for(var n=0,i=t.length;i>n;n++)if(t[n].o==e.n)return e.tag="#",!0}function s(e,t,n){for(var i=0,r=n.length;r>i;i++)if(n[i].c==e&&n[i].o==t)return!0}function a(e){var t=[];for(var n in e)t.push('"'+c(n)+'": function(c,p,t,i) {'+e[n]+"}");return"{ "+t.join(",")+" }"}function u(e){var t=[];for(var n in e.partials)t.push('"'+c(n)+'":{name:"'+c(e.partials[n].name)+'", '+u(e.partials[n])+"}");return"partials: {"+t.join(",")+"}, subs: "+a(e.subs)}function c(e){return e.replace(y,"\\\\").replace(g,'\\"').replace(m,"\\n").replace(v,"\\r").replace(b,"\\u2028").replace(x,"\\u2029")}function l(e){return~e.indexOf(".")?"d":"f"}function h(e,t){var n="<"+(t.prefix||""),i=n+e.n+T++;return t.partials[i]={name:e.n,partials:{}},t.code+='t.b(t.rp("'+c(i)+'",c,p,"'+(e.indent||"")+'"));',i}function p(e,t){t.code+="t.b(t.t(t."+l(e.n)+'("'+c(e.n)+'",c,p,0)));'}function d(e){return"t.b("+e+");"}var f=/\S/,g=/\"/g,m=/\n/g,v=/\r/g,y=/\\/g,b=/\u2028/,x=/\u2029/;e.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},e.scan=function(r,o){function s(){v.length>0&&(y.push({tag:"_t",text:new String(v)}),v="")}function a(){for(var t=!0,n=w;n<y.length;n++)if(!(t=e.tags[y[n].tag]<e.tags._v||"_t"==y[n].tag&&null===y[n].text.match(f)))return!1;return t}function u(e,t){if(s(),e&&a())for(var n,i=w;i<y.length;i++)y[i].text&&((n=y[i+1])&&">"==n.tag&&(n.indent=""+y[i].text),y.splice(i,1));else t||y.push({tag:"\n"});b=!1,w=y.length}function c(e,t){var i="="+_,r=e.indexOf(i,t),o=n(e.substring(e.indexOf("=",t)+1,r)).split(" ");return T=o[0],_=o[o.length-1],r+i.length-1}var l=r.length,h=0,p=1,d=h,g=null,m=null,v="",y=[],b=!1,x=0,w=0,T="{{",_="}}";for(o&&(o=o.split(" "),T=o[0],_=o[1]),x=0;l>x;x++)d==h?i(T,r,x)?(--x,s(),d=p):"\n"==r.charAt(x)?u(b):v+=r.charAt(x):d==p?(x+=T.length-1,m=e.tags[r.charAt(x+1)],g=m?r.charAt(x+1):"_v","="==g?(x=c(r,x),d=h):(m&&x++,d=2),b=x):i(_,r,x)?(y.push({tag:g,n:n(v),otag:T,ctag:_,i:"/"==g?b-T.length:x+_.length}),v="",x+=_.length-1,d=h,"{"==g&&("}}"==_?x++:t(y[y.length-1]))):v+=r.charAt(x);return u(b,!0),y};var w={_t:!0,"\n":!0,$:!0,"/":!0};e.stringify=function(t){return"{code: function (c,p,i) { "+e.wrapMain(t.code)+" },"+u(t)+"}"};var T=0;e.generate=function(t,n,i){T=0;var r={code:"",subs:{},partials:{}};return e.walk(t,r),i.asString?this.stringify(r,n,i):this.makeTemplate(r,n,i)},e.wrapMain=function(e){return'var t=this;t.b(i=i||"");'+e+"return t.fl();"},e.template=e.Template,e.makeTemplate=function(e,t,n){var i=this.makePartials(e);return i.code=Function("c","p","i",this.wrapMain(e.code)),new this.template(i,t,this,n)},e.makePartials=function(e){var t,n={subs:{},partials:e.partials,name:e.name};for(t in n.partials)n.partials[t]=this.makePartials(n.partials[t]);for(t in e.subs)n.subs[t]=Function("c","p","t","i",e.subs[t]);return n},e.codegen={"#":function(t,n){n.code+="if(t.s(t."+l(t.n)+'("'+c(t.n)+'",c,p,1),c,p,0,'+t.i+","+t.end+',"'+t.otag+" "+t.ctag+'")){t.rs(c,p,function(c,p,t){',e.walk(t.nodes,n),n.code+="});c.pop();}"},"^":function(t,n){n.code+="if(!t.s(t."+l(t.n)+'("'+c(t.n)+'",c,p,1),c,p,1,0,0,"")){',e.walk(t.nodes,n),n.code+="};"},">":h,"<":function(t,n){var i={partials:{},code:"",subs:{},inPartial:!0};e.walk(t.nodes,i);var r=n.partials[h(t,n)];r.subs=i.subs,r.partials=i.partials},$:function(t,n){var i={subs:{},code:"",partials:n.partials,prefix:t.n};e.walk(t.nodes,i),n.subs[t.n]=i.code,n.inPartial||(n.code+='t.sub("'+c(t.n)+'",c,p,i);')},"\n":function(e,t){t.code+=d('"\\n"'+(e.last?"":" + i"))},_v:function(e,t){t.code+="t.b(t.v(t."+l(e.n)+'("'+c(e.n)+'",c,p,0)));'},_t:function(e,t){t.code+=d('"'+c(e.text)+'"')},"{":p,"&":p},e.walk=function(t,n){for(var i,r=0,o=t.length;o>r;r++)(i=e.codegen[t[r].tag])&&i(t[r],n);return n},e.parse=function(e,t,n){return n=n||{},r(e,"",[],n.sectionTags||[])},e.cache={},e.cacheKey=function(e,t){return[e,!!t.asString,!!t.disableLambda,t.delimiters,!!t.modelGet].join("||")},e.compile=function(t,n){n=n||{};var i=e.cacheKey(t,n),r=this.cache[i];if(r){var o=r.partials;for(var s in o)delete o[s].instance;return r}return r=this.generate(this.parse(this.scan(t,n.delimiters),t,n),t,n),this.cache[i]=r}}("undefined"!=typeof exports?exports:Hogan),function(e){function t(){}function n(e){function n(t){t.prototype.option||(t.prototype.option=function(t){e.isPlainObject(t)&&(this.options=e.extend(!0,this.options,t))})}function r(t,n){e.fn[t]=function(r){if("string"==typeof r){for(var s=i.call(arguments,1),a=0,u=this.length;u>a;a++){var c=this[a],l=e.data(c,t);if(l)if(e.isFunction(l[r])&&"_"!==r.charAt(0)){var h=l[r].apply(l,s);if(void 0!==h)return h}else o("no such method '"+r+"' for "+t+" instance");else o("cannot call methods on "+t+" prior to initialization; attempted to call '"+r+"'")}return this}return this.each(function(){var i=e.data(this,t);i?(i.option(r),i._init()):(i=new n(this,r),e.data(this,t,i))})}}if(e){var o="undefined"==typeof console?t:function(e){console.error(e)};return e.bridget=function(e,t){n(t),r(e,t)},e.bridget}}var i=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],n):n("object"==typeof exports?require("jquery"):e.jQuery)}(window),function(e){function t(t){var n=e.event;return n.target=n.target||n.srcElement||t,n}var n=document.documentElement,i=function(){};n.addEventListener?i=function(e,t,n){e.addEventListener(t,n,!1)}:n.attachEvent&&(i=function(e,n,i){e[n+i]=i.handleEvent?function(){var n=t(e);i.handleEvent.call(i,n)}:function(){var n=t(e);i.call(e,n)},e.attachEvent("on"+n,e[n+i])});var r=function(){};n.removeEventListener?r=function(e,t,n){e.removeEventListener(t,n,!1)}:n.detachEvent&&(r=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(i){e[t+n]=void 0}});var o={bind:i,unbind:r};"function"==typeof define&&define.amd?define("eventie/eventie",o):"object"==typeof exports?module.exports=o:e.eventie=o}(window),function(e){function t(e){"function"==typeof e&&(t.isReady?e():s.push(e))}function n(e){var n="readystatechange"===e.type&&"complete"!==o.readyState;t.isReady||n||i()}function i(){t.isReady=!0;for(var e=0,n=s.length;n>e;e++){(0,s[e])()}}function r(r){return"complete"===o.readyState?i():(r.bind(o,"DOMContentLoaded",n),r.bind(o,"readystatechange",n),r.bind(e,"load",n)),t}var o=e.document,s=[];t.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],r):"object"==typeof exports?module.exports=r(require("eventie")):e.docReady=r(e.eventie)}(window),function(){function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var i=e.prototype,r=this,o=r.EventEmitter;i.getListeners=function(e){var t,n,i=this._getEvents();if(e instanceof RegExp){t={};for(n in i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n])}else t=i[e]||(i[e]=[]);return t},i.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},i.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},i.addListener=function(e,n){var i,r=this.getListenersAsObject(e),o="object"==typeof n;for(i in r)r.hasOwnProperty(i)&&-1===t(r[i],n)&&r[i].push(o?n:{listener:n,once:!1});return this},i.on=n("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,n){var i,r,o=this.getListenersAsObject(e);for(r in o)o.hasOwnProperty(r)&&-1!==(i=t(o[r],n))&&o[r].splice(i,1);return this},i.off=n("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var i,r,o=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)o.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(r=t[i])&&("function"==typeof r?o.call(this,i,r):s.call(this,i,r));return this},i.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if(e instanceof RegExp)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(e,t){var n,i,r,o=this.getListenersAsObject(e);for(r in o)if(o.hasOwnProperty(r))for(i=o[r].length;i--;)n=o[r][i],!0===n.once&&this.removeListener(e,n.listener),n.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},i.trigger=n("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},i._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return r.EventEmitter=o,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:r.EventEmitter=e}.call(this),function(e){function t(e){if(e){if("string"==typeof i[e])return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var t,r=0,o=n.length;o>r;r++)if(t=n[r]+e,"string"==typeof i[t])return t}}var n="Webkit Moz ms Ms O".split(" "),i=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return t}):"object"==typeof exports?module.exports=t:e.getStyleProperty=t}(window),function(e){function t(e){var t=parseFloat(e);return-1===e.indexOf("%")&&!isNaN(t)&&t}function n(){}function i(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0,n=s.length;n>t;t++){e[s[t]]=0}return e}function r(n){function r(){if(!p){p=!0;var i=e.getComputedStyle;if(c=function(){var e=i?function(e){return i(e,null)}:function(e){return e.currentStyle};return function(t){var n=e(t);return n||o("Style returned "+n+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),n}}(),l=n("boxSizing")){var r=document.createElement("div");r.style.width="200px",r.style.padding="1px 2px 3px 4px",r.style.borderStyle="solid",r.style.borderWidth="1px 2px 3px 4px",r.style[l]="border-box";var s=document.body||document.documentElement;s.appendChild(r);var a=c(r);h=200===t(a.width),s.removeChild(r)}}}function a(e){if(r(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var n=c(e);if("none"===n.display)return i();var o={};o.width=e.offsetWidth,o.height=e.offsetHeight;for(var a=o.isBorderBox=!(!l||!n[l]||"border-box"!==n[l]),p=0,d=s.length;d>p;p++){var f=s[p],g=n[f];g=u(e,g);var m=parseFloat(g);o[f]=isNaN(m)?0:m}var v=o.paddingLeft+o.paddingRight,y=o.paddingTop+o.paddingBottom,b=o.marginLeft+o.marginRight,x=o.marginTop+o.marginBottom,w=o.borderLeftWidth+o.borderRightWidth,T=o.borderTopWidth+o.borderBottomWidth,_=a&&h,k=t(n.width);!1!==k&&(o.width=k+(_?0:v+w));var C=t(n.height);return!1!==C&&(o.height=C+(_?0:y+T)),o.innerWidth=o.width-(v+w),o.innerHeight=o.height-(y+T),o.outerWidth=o.width+b,o.outerHeight=o.height+x,o}}function u(t,n){if(e.getComputedStyle||-1===n.indexOf("%"))return n;var i=t.style,r=i.left,o=t.runtimeStyle,s=o&&o.left;return s&&(o.left=t.currentStyle.left),i.left=n,n=i.pixelLeft,i.left=r,s&&(o.left=s),n}var c,l,h,p=!1;return a}var o="undefined"==typeof console?n:function(e){console.error(e)},s=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],r):"object"==typeof exports?module.exports=r(require("desandro-get-style-property")):e.getSize=r(e.getStyleProperty)}(window),function(e){function t(e,t){return e[s](t)}function n(e){if(!e.parentNode){document.createDocumentFragment().appendChild(e)}}function i(e,t){n(e);for(var i=e.parentNode.querySelectorAll(t),r=0,o=i.length;o>r;r++)if(i[r]===e)return!0;return!1}function r(e,i){return n(e),t(e,i)}var o,s=function(){if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],n=0,i=t.length;i>n;n++){var r=t[n],o=r+"MatchesSelector";if(e[o])return o}}();if(s){var a=document.createElement("div"),u=t(a,"div");o=u?t:r}else o=i;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return o}):"object"==typeof exports?module.exports=o:window.matchesSelector=o}(Element.prototype),function(e){function t(e,t){for(var n in t)e[n]=t[n];return e}function n(e){for(var t in e)return!1;return null,!0}function i(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function r(e,r,o){function a(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}var u=o("transition"),c=o("transform"),l=u&&c,h=!!o("perspective"),p={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[u],d=["transform","transition","transitionDuration","transitionProperty"],f=function(){for(var e={},t=0,n=d.length;n>t;t++){var i=d[t],r=o(i);r&&r!==i&&(e[i]=r)}return e}();t(a.prototype,e.prototype),a.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},a.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},a.prototype.getSize=function(){this.size=r(this.element)},a.prototype.css=function(e){var t=this.element.style;for(var n in e){t[f[n]||n]=e[n]}},a.prototype.getPosition=function(){var e=s(this.element),t=this.layout.options,n=t.isOriginLeft,i=t.isOriginTop,r=parseInt(e[n?"left":"right"],10),o=parseInt(e[i?"top":"bottom"],10);r=isNaN(r)?0:r,o=isNaN(o)?0:o;var a=this.layout.size;r-=n?a.paddingLeft:a.paddingRight,o-=i?a.paddingTop:a.paddingBottom,this.position.x=r,this.position.y=o},a.prototype.layoutPosition=function(){var e=this.layout.size,t=this.layout.options,n={};t.isOriginLeft?(n.left=this.position.x+e.paddingLeft+"px",n.right=""):(n.right=this.position.x+e.paddingRight+"px",n.left=""),t.isOriginTop?(n.top=this.position.y+e.paddingTop+"px",n.bottom=""):(n.bottom=this.position.y+e.paddingBottom+"px",n.top=""),this.css(n),this.emitEvent("layout",[this])};var g=h?function(e,t){return"translate3d("+e+"px, "+t+"px, 0)"}:function(e,t){return"translate("+e+"px, "+t+"px)"};a.prototype._transitionTo=function(e,t){this.getPosition();var n=this.position.x,i=this.position.y,r=parseInt(e,10),o=parseInt(t,10),s=r===this.position.x&&o===this.position.y;if(this.setPosition(e,t),s&&!this.isTransitioning)return void this.layoutPosition();var a=e-n,u=t-i,c={},l=this.layout.options;a=l.isOriginLeft?a:-a,u=l.isOriginTop?u:-u,c.transform=g(a,u),this.transition({to:c,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},a.prototype.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},a.prototype.moveTo=l?a.prototype._transitionTo:a.prototype.goTo,a.prototype.setPosition=function(e,t){this.position.x=parseInt(e,10),this.position.y=parseInt(t,10)},a.prototype._nonTransition=function(e){this.css(e.to),e.isCleaning&&this._removeStyles(e.to);for(var t in e.onTransitionEnd)e.onTransitionEnd[t].call(this)},a.prototype._transition=function(e){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(e);var t=this._transn;for(var n in e.onTransitionEnd)t.onEnd[n]=e.onTransitionEnd[n];for(n in e.to)t.ingProperties[n]=!0,e.isCleaning&&(t.clean[n]=!0);if(e.from){this.css(e.from);this.element.offsetHeight;null}this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0};var m=c&&i(c)+",opacity";a.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:m,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(p,this,!1))},a.prototype.transition=a.prototype[u?"_transition":"_nonTransition"],a.prototype.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},a.prototype.onotransitionend=function(e){this.ontransitionend(e)};var v={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};a.prototype.ontransitionend=function(e){if(e.target===this.element){var t=this._transn,i=v[e.propertyName]||e.propertyName;if(delete t.ingProperties[i],n(t.ingProperties)&&this.disableTransition(),i in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[i]),i in t.onEnd){t.onEnd[i].call(this),delete t.onEnd[i]}this.emitEvent("transitionEnd",[this])}},a.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(p,this,!1),this.isTransitioning=!1},a.prototype._removeStyles=function(e){var t={};for(var n in e)t[n]="";this.css(t)};var y={transitionProperty:"",transitionDuration:""};return a.prototype.removeTransitionStyles=function(){this.css(y)},a.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},a.prototype.remove=function(){if(!u||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var e=this;this.on("transitionEnd",function(){return e.removeElem(),!0}),this.hide()},a.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options;this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0})},a.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options;this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},a.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},a}var o=e.getComputedStyle,s=o?function(e){return o(e,null)}:function(e){return e.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],r):"object"==typeof exports?module.exports=r(require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property")):(e.Outlayer={},e.Outlayer.Item=r(e.EventEmitter,e.getSize,e.getStyleProperty))}(window),function(e){function t(e,t){for(var n in t)e[n]=t[n];return e}function n(e){return"[object Array]"===h.call(e)}function i(e){var t=[];if(n(e))t=e;else if(e&&"number"==typeof e.length)for(var i=0,r=e.length;r>i;i++)t.push(e[i]);else t.push(e);return t}function r(e,t){var n=d(t,e);-1!==n&&t.splice(n,1)}function o(e){return e.replace(/(.)([A-Z])/g,function(e,t,n){return t+"-"+n}).toLowerCase()}function s(n,s,h,d,f,g){function m(e,n){if("string"==typeof e&&(e=a.querySelector(e)),!e||!p(e))return void(u&&u.error("Bad "+this.constructor.namespace+" element: "+e));this.element=e,this.options=t({},this.constructor.defaults),this.option(n);var i=++v;this.element.outlayerGUID=i,y[i]=this,this._create(),this.options.isInitLayout&&this.layout()}var v=0,y={};return m.namespace="outlayer",m.Item=g,m.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},t(m.prototype,h.prototype),m.prototype.option=function(e){t(this.options,e)},m.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),t(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},m.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},m.prototype._itemize=function(e){for(var t=this._filterFindItemElements(e),n=this.constructor.Item,i=[],r=0,o=t.length;o>r;r++){var s=t[r],a=new n(s,this);i.push(a)}return i},m.prototype._filterFindItemElements=function(e){e=i(e);for(var t=this.options.itemSelector,n=[],r=0,o=e.length;o>r;r++){var s=e[r];if(p(s))if(t){f(s,t)&&n.push(s);for(var a=s.querySelectorAll(t),u=0,c=a.length;c>u;u++)n.push(a[u])}else n.push(s)}return n},m.prototype.getItemElements=function(){for(var e=[],t=0,n=this.items.length;n>t;t++)e.push(this.items[t].element);return e},m.prototype.layout=function(){this._resetLayout(),this._manageStamps();var e=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},m.prototype._init=m.prototype.layout,m.prototype._resetLayout=function(){this.getSize()},m.prototype.getSize=function(){this.size=d(this.element)},m.prototype._getMeasurement=function(e,t){var n,i=this.options[e];i?("string"==typeof i?n=this.element.querySelector(i):p(i)&&(n=i),this[e]=n?d(n)[t]:i):this[e]=0},m.prototype.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},m.prototype._getItemsForLayout=function(e){for(var t=[],n=0,i=e.length;i>n;n++){var r=e[n];r.isIgnored||t.push(r)}return t},m.prototype._layoutItems=function(e,t){function n(){i.emitEvent("layoutComplete",[i,e])}var i=this;if(!e||!e.length)return void n();this._itemsOn(e,"layout",n);for(var r=[],o=0,s=e.length;s>o;o++){var a=e[o],u=this._getItemLayoutPosition(a);u.item=a,u.isInstant=t||a.isLayoutInstant,r.push(u)}this._processLayoutQueue(r)},m.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},m.prototype._processLayoutQueue=function(e){for(var t=0,n=e.length;n>t;t++){var i=e[t];this._positionItem(i.item,i.x,i.y,i.isInstant)}},m.prototype._positionItem=function(e,t,n,i){i?e.goTo(t,n):e.moveTo(t,n)},m.prototype._postLayout=function(){this.resizeContainer()},m.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},m.prototype._getContainerSize=l,m.prototype._setContainerMeasure=function(e,t){if(void 0!==e){var n=this.size;n.isBorderBox&&(e+=t?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"}},m.prototype._itemsOn=function(e,t,n){function i(){return r++,r===o&&n.call(s),!0}for(var r=0,o=e.length,s=this,a=0,u=e.length;u>a;a++){e[a].on(t,i)}},m.prototype.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},m.prototype.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},m.prototype.stamp=function(e){if(e=this._find(e)){this.stamps=this.stamps.concat(e);for(var t=0,n=e.length;n>t;t++){var i=e[t];this.ignore(i)}}},m.prototype.unstamp=function(e){if(e=this._find(e))for(var t=0,n=e.length;n>t;t++){var i=e[t];r(i,this.stamps),this.unignore(i)}},m.prototype._find=function(e){return e?("string"==typeof e&&(e=this.element.querySelectorAll(e)),e=i(e)):void 0},m.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var e=0,t=this.stamps.length;t>e;e++){var n=this.stamps[e];this._manageStamp(n)}}},m.prototype._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},m.prototype._manageStamp=l,m.prototype._getElementOffset=function(e){var t=e.getBoundingClientRect(),n=this._boundingRect,i=d(e);return{left:t.left-n.left-i.marginLeft,top:t.top-n.top-i.marginTop,right:n.right-t.right-i.marginRight,bottom:n.bottom-t.bottom-i.marginBottom}},m.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},m.prototype.bindResize=function(){this.isResizeBound||(n.bind(e,"resize",this),this.isResizeBound=!0)},m.prototype.unbindResize=function(){this.isResizeBound&&n.unbind(e,"resize",this),this.isResizeBound=!1},m.prototype.onresize=function(){function e(){t.resize(),delete t.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var t=this;this.resizeTimeout=setTimeout(e,100)},m.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},m.prototype.needsResizeLayout=function(){var e=d(this.element);return this.size&&e&&e.innerWidth!==this.size.innerWidth},m.prototype.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},m.prototype.appended=function(e){var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t))},m.prototype.prepended=function(e){var t=this._itemize(e);if(t.length){var n=this.items.slice(0);this.items=t.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(n)}},m.prototype.reveal=function(e){var t=e&&e.length;if(t)for(var n=0;t>n;n++){var i=e[n];i.reveal()}},m.prototype.hide=function(e){var t=e&&e.length;if(t)for(var n=0;t>n;n++){var i=e[n];i.hide()}},m.prototype.getItem=function(e){for(var t=0,n=this.items.length;n>t;t++){var i=this.items[t];if(i.element===e)return i}},m.prototype.getItems=function(e){if(e&&e.length){for(var t=[],n=0,i=e.length;i>n;n++){var r=e[n],o=this.getItem(r);o&&t.push(o)}return t}},m.prototype.remove=function(e){e=i(e);var t=this.getItems(e);if(t&&t.length){this._itemsOn(t,"remove",function(){this.emitEvent("removeComplete",[this,t])});for(var n=0,o=t.length;o>n;n++){var s=t[n];s.remove(),r(s,this.items)}}},m.prototype.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="";for(var t=0,n=this.items.length;n>t;t++){this.items[t].destroy()}this.unbindResize();var i=this.element.outlayerGUID;delete y[i],delete this.element.outlayerGUID,c&&c.removeData(this.element,this.constructor.namespace)},m.data=function(e){var t=e&&e.outlayerGUID;return t&&y[t]},m.create=function(e,n){function i(){m.apply(this,arguments)}return Object.create?i.prototype=Object.create(m.prototype):t(i.prototype,m.prototype),i.prototype.constructor=i,i.defaults=t({},m.defaults),t(i.defaults,n),i.prototype.settings={},i.namespace=e,i.data=m.data,i.Item=function(){g.apply(this,arguments)},i.Item.prototype=new g,s(function(){for(var t=o(e),n=a.querySelectorAll(".js-"+t),r="data-"+t+"-options",s=0,l=n.length;l>s;s++){var h,p=n[s],d=p.getAttribute(r);try{h=d&&JSON.parse(d)}catch(e){u&&u.error("Error parsing "+r+" on "+p.nodeName.toLowerCase()+(p.id?"#"+p.id:"")+": "+e);continue}var f=new i(p,h);c&&c.data(p,e,f)}}),c&&c.bridget&&c.bridget(e,i),i},m.Item=g,m}var a=e.document,u=e.console,c=e.jQuery,l=function(){},h=Object.prototype.toString,p="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName},d=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1};"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],s):"object"==typeof exports?module.exports=s(require("eventie"),require("doc-ready"),require("wolfy87-eventemitter"),require("get-size"),require("desandro-matches-selector"),require("./item")):e.Outlayer=s(e.eventie,e.docReady,e.EventEmitter,e.getSize,e.matchesSelector,e.Outlayer.Item)}(window),function(e,t){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],t):"object"==typeof exports?module.exports=t(require("outlayer"),require("get-size")):e.Masonry=t(e.Outlayer,e.getSize)}(window,function(e,t){var n=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,i=e.length;i>n;n++){if(e[n]===t)return n}return-1},i=e.create("masonry");return i.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var e=this.cols;for(this.colYs=[];e--;)this.colYs.push(0);this.maxY=0},i.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var e=this.items[0],n=e&&e.element;this.columnWidth=n&&t(n).outerWidth||this.containerWidth}var i=this.columnWidth+=this.gutter,r=this.containerWidth+this.gutter,o=r/i,s=i-r%i,a=s&&1>s?"round":"floor";o=Math[a](o),this.cols=Math.max(o,1)},i.prototype.getContainerWidth=function(){var e=this.options.isFitWidth?this.element.parentNode:this.element,n=t(e);this.containerWidth=n&&n.innerWidth},i.prototype._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth%this.columnWidth,i=t&&1>t?"round":"ceil",r=Math[i](e.size.outerWidth/this.columnWidth);r=Math.min(r,this.cols);for(var o=this._getColGroup(r),s=Math.min.apply(Math,o),a=n(o,s),u={x:this.columnWidth*a,y:s},c=s+e.size.outerHeight,l=this.cols+1-o.length,h=0;l>h;h++)this.colYs[a+h]=c;return u},i.prototype._getColGroup=function(e){if(2>e)return this.colYs;for(var t=[],n=this.cols+1-e,i=0;n>i;i++){var r=this.colYs.slice(i,i+e);t[i]=Math.max.apply(Math,r)}return t},i.prototype._manageStamp=function(e){var n=t(e),i=this._getElementOffset(e),r=this.options.isOriginLeft?i.left:i.right,o=r+n.outerWidth,s=Math.floor(r/this.columnWidth);s=Math.max(0,s);var a=Math.floor(o/this.columnWidth);a-=o%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var u=(this.options.isOriginTop?i.top:i.bottom)+n.outerHeight,c=s;a>=c;c++)this.colYs[c]=Math.max(u,this.colYs[c])},i.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this.options.isFitWidth&&(e.width=this._getContainerFitWidth()),e},i.prototype._getContainerFitWidth=function(){for(var e=0,t=this.cols;--t&&0===this.colYs[t];)e++;return(this.cols-e)*this.columnWidth-this.gutter},i.prototype.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!==this.containerWidth},i}),function(e){"use strict";function t(){this.rootNode=null,this.currentPage=1,this._masonry=null,this._lastPhotoNode=null}t.prototype.init=function(e){this.rootNode=e,this._masonry=new Masonry(e,{gutter:8,isFitWidth:!1,itemSelector:".photo",hiddenStyle:{opacity:0},visibleStyle:{opacity:1},transitionDuration:"0.8s"}),this.applied()},t.prototype.applied=function(){$(".lightbox").colorbox({rel:"gallery",fixed:!0,height:"90%",transition:"elastic",speed:360,width:"90%"}),this._lastPhotoNode=this.rootNode.querySelector(".photo:last-of-type")},e.PhotoGallery=t}((this||0).self||global);
//# sourceMappingURL=photoGallery.min.js.map