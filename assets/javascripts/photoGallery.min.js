!function(t,e,n){function i(n,i,o){var r=e.createElement(n);return i&&(r.id=Z+i),o&&(r.style.cssText=o),t(r)}function o(){return n.innerHeight?n.innerHeight:t(n).height()}function r(e,n){n!==Object(n)&&(n={}),this.cache={},this.el=e,this.value=function(e){var i;return void 0===this.cache[e]&&(i=t(this.el).attr("data-cbox-"+e),void 0!==i?this.cache[e]=i:void 0!==n[e]?this.cache[e]=n[e]:void 0!==Q[e]&&(this.cache[e]=Q[e])),this.cache[e]},this.get=function(e){var n=this.value(e);return t.isFunction(n)?n.call(this.el,this):n}}function s(t){var e=C.length,n=($+t)%e;return 0>n?e+n:n}function a(t,e){return Math.round((/%/.test(t)?("x"===e?S.width():o())/100:1)*parseInt(t,10))}function h(t,e){return t.get("photo")||t.get("photoRegex").test(e)}function c(t,e){return t.get("retinaUrl")&&n.devicePixelRatio>1?e.replace(t.get("photoRegex"),t.get("retinaSuffix")):e}function l(t){"contains"in w[0]&&!w[0].contains(t.target)&&t.target!==v[0]&&(t.stopPropagation(),w.focus())}function u(t){u.str!==t&&(w.add(v).removeClass(u.str).addClass(t),u.str=t)}function d(e){$=0,e&&!1!==e&&"nofollow"!==e?(C=t("."+tt).filter(function(){return new r(this,t.data(this,X)).get("rel")===e}),-1===($=C.index(H.el))&&(C=C.add(H.el),$=C.length-1)):C=t(H.el)}function p(n){t(e).trigger(n),at.triggerHandler(n)}function f(n){var o;if(!G){if(o=t(n).data(X),H=new r(n,o),d(H.get("rel")),!K){K=U=!0,u(H.get("className")),w.css({visibility:"hidden",display:"block",opacity:""}),I=i(ht,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),x.css({width:"",height:""}).append(I),j=T.height()+_.height()+x.outerHeight(!0)-x.height(),N=E.width()+L.width()+x.outerWidth(!0)-x.width(),B=I.outerHeight(!0),F=I.outerWidth(!0);var s=a(H.get("initialWidth"),"x"),h=a(H.get("initialHeight"),"y"),c=H.get("maxWidth"),f=H.get("maxHeight");H.w=Math.max((!1!==c?Math.min(s,a(c,"x")):s)-F-N,0),H.h=Math.max((!1!==f?Math.min(h,a(f,"y")):h)-B-j,0),I.css({width:"",height:H.h}),J.position(),p(et),H.get("onOpen"),A.add(R).hide(),w.focus(),H.get("trapFocus")&&e.addEventListener&&(e.addEventListener("focus",l,!0),at.one(rt,function(){e.removeEventListener("focus",l,!0)})),H.get("returnFocus")&&at.one(rt,function(){t(H.el).focus()})}var g=parseFloat(H.get("opacity"));v.css({opacity:g===g?g:"",cursor:H.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),H.get("closeButton")?q.html(H.get("close")).appendTo(x):q.appendTo("<div/>"),y()}}function g(){w||(V=!1,S=t(n),w=i(ht).attr({id:X,class:!1===t.support.opacity?Z+"IE":"",role:"dialog",tabindex:"-1"}).hide(),v=i(ht,"Overlay").hide(),W=t([i(ht,"LoadingOverlay")[0],i(ht,"LoadingGraphic")[0]]),b=i(ht,"Wrapper"),x=i(ht,"Content").append(R=i(ht,"Title"),O=i(ht,"Current"),M=t('<button type="button"/>').attr({id:Z+"Previous"}),P=t('<button type="button"/>').attr({id:Z+"Next"}),z=t('<button type="button"/>').attr({id:Z+"Slideshow"}),W),q=t('<button type="button"/>').attr({id:Z+"Close"}),b.append(i(ht).append(i(ht,"TopLeft"),T=i(ht,"TopCenter"),i(ht,"TopRight")),i(ht,!1,"clear:left").append(E=i(ht,"MiddleLeft"),x,L=i(ht,"MiddleRight")),i(ht,!1,"clear:left").append(i(ht,"BottomLeft"),_=i(ht,"BottomCenter"),i(ht,"BottomRight"))).find("div div").css({float:"left"}),k=i(ht,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),A=P.add(M).add(O).add(z)),e.body&&!w.parent().length&&t(e.body).append(v,w.append(b,k))}function m(){function n(t){t.which>1||t.shiftKey||t.altKey||t.metaKey||t.ctrlKey||(t.preventDefault(),f(this))}return!!w&&(V||(V=!0,P.click(function(){J.next()}),M.click(function(){J.prev()}),q.click(function(){J.close()}),v.click(function(){H.get("overlayClose")&&J.close()}),t(e).bind("keydown."+Z,function(t){var e=t.keyCode;K&&H.get("escKey")&&27===e&&(t.preventDefault(),J.close()),K&&H.get("arrowKey")&&C[1]&&!t.altKey&&(37===e?(t.preventDefault(),M.click()):39===e&&(t.preventDefault(),P.click()))}),t.isFunction(t.fn.on)?t(e).on("click."+Z,"."+tt,n):t("."+tt).live("click."+Z,n)),!0)}function y(){var e,o,r,s=J.prep,l=++ct;if(U=!0,D=!1,p(st),p(nt),H.get("onLoad"),H.h=H.get("height")?a(H.get("height"),"y")-B-j:H.get("innerHeight")&&a(H.get("innerHeight"),"y"),H.w=H.get("width")?a(H.get("width"),"x")-F-N:H.get("innerWidth")&&a(H.get("innerWidth"),"x"),H.mw=H.w,H.mh=H.h,H.get("maxWidth")&&(H.mw=a(H.get("maxWidth"),"x")-F-N,H.mw=H.w&&H.w<H.mw?H.w:H.mw),H.get("maxHeight")&&(H.mh=a(H.get("maxHeight"),"y")-B-j,H.mh=H.h&&H.h<H.mh?H.h:H.mh),e=H.get("href"),Y=setTimeout(function(){W.show()},100),H.get("inline")){var u=t(e).eq(0);r=t("<div>").hide().insertBefore(u),at.one(st,function(){r.replaceWith(u)}),s(u)}else H.get("iframe")?s(" "):H.get("html")?s(H.get("html")):h(H,e)?(e=c(H,e),D=H.get("createImg"),t(D).addClass(Z+"Photo").bind("error."+Z,function(){s(i(ht,"Error").html(H.get("imgError")))}).one("load",function(){l===ct&&setTimeout(function(){var e;H.get("retinaImage")&&n.devicePixelRatio>1&&(D.height=D.height/n.devicePixelRatio,D.width=D.width/n.devicePixelRatio),H.get("scalePhotos")&&(o=function(){D.height-=D.height*e,D.width-=D.width*e},H.mw&&D.width>H.mw&&(e=(D.width-H.mw)/D.width,o()),H.mh&&D.height>H.mh&&(e=(D.height-H.mh)/D.height,o())),H.h&&(D.style.marginTop=Math.max(H.mh-D.height,0)/2+"px"),C[1]&&(H.get("loop")||C[$+1])&&(D.style.cursor="pointer",t(D).bind("click."+Z,function(){J.next()})),D.style.width=D.width+"px",D.style.height=D.height+"px",s(D)},1)}),D.src=e):e&&k.load(e,H.get("data"),function(e,n){l===ct&&s("error"===n?i(ht,"Error").html(H.get("xhrError")):t(this).contents())})}var v,w,b,x,T,E,L,_,C,S,I,k,W,R,O,z,P,M,q,A,H,j,N,B,F,$,D,K,U,G,Y,J,V,Q={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return t(this).attr("href")},title:function(){return this.title},createImg:function(){var e=new Image,n=t(this).data("cbox-img-attrs");return"object"==typeof n&&t.each(n,function(t,n){e[t]=n}),e},createIframe:function(){var n=e.createElement("iframe"),i=t(this).data("cbox-iframe-attrs");return"object"==typeof i&&t.each(i,function(t,e){n[t]=e}),"frameBorder"in n&&(n.frameBorder=0),"allowTransparency"in n&&(n.allowTransparency="true"),n.name=(new Date).getTime(),n.allowFullscreen=!0,n}},X="colorbox",Z="cbox",tt=Z+"Element",et=Z+"_open",nt=Z+"_load",it=Z+"_complete",ot=Z+"_cleanup",rt=Z+"_closed",st=Z+"_purge",at=t("<a/>"),ht="div",ct=0,lt={},ut=function(){function t(){clearTimeout(s)}function e(){(H.get("loop")||C[$+1])&&(t(),s=setTimeout(J.next,H.get("slideshowSpeed")))}function n(){z.html(H.get("slideshowStop")).unbind(h).one(h,i),at.bind(it,e).bind(nt,t),w.removeClass(a+"off").addClass(a+"on")}function i(){t(),at.unbind(it,e).unbind(nt,t),z.html(H.get("slideshowStart")).unbind(h).one(h,function(){J.next(),n()}),w.removeClass(a+"on").addClass(a+"off")}function o(){r=!1,z.hide(),t(),at.unbind(it,e).unbind(nt,t),w.removeClass(a+"off "+a+"on")}var r,s,a=Z+"Slideshow_",h="click."+Z;return function(){r?H.get("slideshow")||(at.unbind(ot,o),o()):H.get("slideshow")&&C[1]&&(r=!0,at.one(ot,o),H.get("slideshowAuto")?n():i(),z.show())}}();t[X]||(t(g),J=t.fn[X]=t[X]=function(e,n){var i,o=this;return e=e||{},t.isFunction(o)&&(o=t("<a/>"),e.open=!0),o[0]?(g(),m()&&(n&&(e.onComplete=n),o.each(function(){var n=t.data(this,X)||{};t.data(this,X,t.extend(n,e))}).addClass(tt),i=new r(o[0],e),i.get("open")&&f(o[0])),o):o},J.position=function(e,n){function i(){T[0].style.width=_[0].style.width=x[0].style.width=parseInt(w[0].style.width,10)-N+"px",x[0].style.height=E[0].style.height=L[0].style.height=parseInt(w[0].style.height,10)-j+"px"}var r,s,h,c=0,l=0,u=w.offset();if(S.unbind("resize."+Z),w.css({top:-9e4,left:-9e4}),s=S.scrollTop(),h=S.scrollLeft(),H.get("fixed")?(u.top-=s,u.left-=h,w.css({position:"fixed"})):(c=s,l=h,w.css({position:"absolute"})),l+=!1!==H.get("right")?Math.max(S.width()-H.w-F-N-a(H.get("right"),"x"),0):!1!==H.get("left")?a(H.get("left"),"x"):Math.round(Math.max(S.width()-H.w-F-N,0)/2),c+=!1!==H.get("bottom")?Math.max(o()-H.h-B-j-a(H.get("bottom"),"y"),0):!1!==H.get("top")?a(H.get("top"),"y"):Math.round(Math.max(o()-H.h-B-j,0)/2),w.css({top:u.top,left:u.left,visibility:"visible"}),b[0].style.width=b[0].style.height="9999px",r={width:H.w+F+N,height:H.h+B+j,top:c,left:l},e){var d=0;t.each(r,function(t){return r[t]!==lt[t]?void(d=e):void 0}),e=d}lt=r,e||w.css(r),w.dequeue().animate(r,{duration:e||0,complete:function(){i(),U=!1,b[0].style.width=H.w+F+N+"px",b[0].style.height=H.h+B+j+"px",H.get("reposition")&&setTimeout(function(){S.bind("resize."+Z,J.position)},1),t.isFunction(n)&&n()},step:i})},J.resize=function(t){var e;K&&(t=t||{},t.width&&(H.w=a(t.width,"x")-F-N),t.innerWidth&&(H.w=a(t.innerWidth,"x")),I.css({width:H.w}),t.height&&(H.h=a(t.height,"y")-B-j),t.innerHeight&&(H.h=a(t.innerHeight,"y")),t.innerHeight||t.height||(e=I.scrollTop(),I.css({height:"auto"}),H.h=I.height()),I.css({height:H.h}),e&&I.scrollTop(e),J.position("none"===H.get("transition")?0:H.get("speed")))},J.prep=function(n){function o(){return H.w=H.w||I.width(),H.w=H.mw&&H.mw<H.w?H.mw:H.w,H.w}function a(){return H.h=H.h||I.height(),H.h=H.mh&&H.mh<H.h?H.mh:H.h,H.h}if(K){var l,d="none"===H.get("transition")?0:H.get("speed");I.remove(),I=i(ht,"LoadedContent").append(n),I.hide().appendTo(k.show()).css({width:o(),overflow:H.get("scrolling")?"auto":"hidden"}).css({height:a()}).prependTo(x),k.hide(),t(D).css({float:"none"}),u(H.get("className")),l=function(){function n(){!1===t.support.opacity&&w[0].style.removeAttribute("filter")}var i,o,a=C.length;K&&(o=function(){clearTimeout(Y),W.hide(),p(it),H.get("onComplete")},R.html(H.get("title")).show(),I.show(),a>1?("string"==typeof H.get("current")&&O.html(H.get("current").replace("{current}",$+1).replace("{total}",a)).show(),P[H.get("loop")||a-1>$?"show":"hide"]().html(H.get("next")),M[H.get("loop")||$?"show":"hide"]().html(H.get("previous")),ut(),H.get("preloading")&&t.each([s(-1),s(1)],function(){var n,i=C[this],o=new r(i,t.data(i,X)),s=o.get("href");s&&h(o,s)&&(s=c(o,s),n=e.createElement("img"),n.src=s)})):A.hide(),H.get("iframe")?(i=H.get("createIframe"),H.get("scrolling")||(i.scrolling="no"),t(i).attr({src:H.get("href"),class:Z+"Iframe"}).one("load",o).appendTo(I),at.one(st,function(){i.src="//about:blank"}),H.get("fastIframe")&&t(i).trigger("load")):o(),"fade"===H.get("transition")?w.fadeTo(d,1,n):n())},"fade"===H.get("transition")?w.fadeTo(d,0,function(){J.position(0,l)}):J.position(d,l)}},J.next=function(){!U&&C[1]&&(H.get("loop")||C[$+1])&&($=s(1),f(C[$]))},J.prev=function(){!U&&C[1]&&(H.get("loop")||$)&&($=s(-1),f(C[$]))},J.close=function(){K&&!G&&(G=!0,K=!1,p(ot),H.get("onCleanup"),S.unbind("."+Z),v.fadeTo(H.get("fadeOut")||0,0),w.stop().fadeTo(H.get("fadeOut")||0,0,function(){w.hide(),v.hide(),p(st),I.remove(),setTimeout(function(){G=!1,p(rt),H.get("onClosed")},1)}))},J.remove=function(){w&&(w.stop(),t[X].close(),w.stop(!1,!0).remove(),v.remove(),G=!1,w=null,t("."+tt).removeData(X).removeClass(tt),t(e).unbind("click."+Z).unbind("keydown."+Z))},J.element=function(){return t(H.el)},J.settings=Q)}(jQuery,document,window),jQuery.extend(jQuery.colorbox.settings,{current:"{total}枚中{current}枚目",previous:"前",next:"次",close:"閉じる",xhrError:"コンテンツの読み込みに失敗しました",imgError:"画像の読み込みに失敗しました",slideshowStart:"スライドショー開始",slideshowStop:"スライドショー終了"});var Hogan={};!function(t){function e(t,e,n){var i;return e&&"object"==typeof e&&(void 0!==e[t]?i=e[t]:n&&e.get&&"function"==typeof e.get&&(i=e.get(t))),i}function n(t,e,n,i,o,r){function s(){}function a(){}s.prototype=t,a.prototype=t.subs;var h,c=new s;c.subs=new a,c.subsText={},c.buf="",i=i||{},c.stackSubs=i,c.subsText=r;for(h in e)i[h]||(i[h]=e[h]);for(h in i)c.subs[h]=i[h];o=o||{},c.stackPartials=o;for(h in n)o[h]||(o[h]=n[h]);for(h in o)c.partials[h]=o[h];return c}function i(t){return(null===t||void 0===t?"":t)+""}function o(t){return t=i(t),l.test(t)?t.replace(r,"&amp;").replace(s,"&lt;").replace(a,"&gt;").replace(h,"&#39;").replace(c,"&quot;"):t}t.Template=function(t,e,n,i){t=t||{},this.r=t.code||this.r,this.c=n,this.options=i||{},this.text=e||"",this.partials=t.partials||{},this.subs=t.subs||{},this.buf=""},t.Template.prototype={r:function(){return""},v:o,t:i,render:function(t,e,n){return this.ri([t],e||{},n)},ri:function(t,e,n){return this.r(t,e,n)},ep:function(t,e){var i=this.partials[t],o=e[i.name];if(i.instance&&i.base==o)return i.instance;if("string"==typeof o){if(!this.c)throw Error("No compiler available.");o=this.c.compile(o,this.options)}if(!o)return null;if(this.partials[t].base=o,i.subs){e.stackText||(e.stackText={});for(key in i.subs)e.stackText[key]||(e.stackText[key]=void 0!==this.activeSub&&e.stackText[this.activeSub]?e.stackText[this.activeSub]:this.text);o=n(o,i.subs,i.partials,this.stackSubs,this.stackPartials,e.stackText)}return this.partials[t].instance=o,o},rp:function(t,e,n,i){var o=this.ep(t,n);return o?o.ri(e,n,i):""},rs:function(t,e,n){var i=t[t.length-1];if(!u(i))return void n(t,e,this);for(var o=0;o<i.length;o++)t.push(i[o]),n(t,e,this),t.pop()},s:function(t,e,n,i,o,r,s){var a;return(!u(t)||0!==t.length)&&("function"==typeof t&&(t=this.ms(t,e,n,i,o,r,s)),a=!!t,!i&&a&&e&&e.push("object"==typeof t?t:e[e.length-1]),a)},d:function(t,n,i,o){var r,s=t.split("."),a=this.f(s[0],n,i,o),h=this.options.modelGet,c=null;if("."===t&&u(n[n.length-2]))a=n[n.length-1];else for(var l=1;l<s.length;l++)r=e(s[l],a,h),void 0!==r?(c=a,a=r):a="";return!(o&&!a)&&(o||"function"!=typeof a||(n.push(c),a=this.mv(a,n,i),n.pop()),a)},f:function(t,n,i,o){for(var r=!1,s=null,a=!1,h=this.options.modelGet,c=n.length-1;c>=0;c--)if(s=n[c],void 0!==(r=e(t,s,h))){a=!0;break}return a?(o||"function"!=typeof r||(r=this.mv(r,n,i)),r):!o&&""},ls:function(t,e,n,o,r){var s=this.options.delimiters;return this.options.delimiters=r,this.b(this.ct(i(t.call(e,o)),e,n)),this.options.delimiters=s,!1},ct:function(t,e,n){if(this.options.disableLambda)throw Error("Lambda features disabled.");return this.c.compile(t,this.options).render(e,n)},b:function(t){this.buf+=t},fl:function(){var t=this.buf;return this.buf="",t},ms:function(t,e,n,i,o,r,s){var a,h=e[e.length-1],c=t.call(h);return"function"==typeof c?!!i||(a=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(c,h,n,a.substring(o,r),s)):c},mv:function(t,e,n){var o=e[e.length-1],r=t.call(o);return"function"==typeof r?this.ct(i(r.call(o)),o,n):r},sub:function(t,e,n,i){var o=this.subs[t];o&&(this.activeSub=t,o(e,n,this,i),this.activeSub=!1)}};var r=/&/g,s=/</g,a=/>/g,h=/\'/g,c=/\"/g,l=/[&<>\"\']/,u=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}}("undefined"!=typeof exports?exports:Hogan),function(t){function e(t){"}"===t.n.substr(t.n.length-1)&&(t.n=t.n.substring(0,t.n.length-1))}function n(t){return t.trim?t.trim():t.replace(/^\s*|\s*$/g,"")}function i(t,e,n){if(e.charAt(n)!=t.charAt(0))return!1;for(var i=1,o=t.length;o>i;i++)if(e.charAt(n+i)!=t.charAt(i))return!1;return!0}function o(e,n,i,a){var h=[],c=null,l=null,u=null;for(l=i[i.length-1];e.length>0;){if(u=e.shift(),l&&"<"==l.tag&&!(u.tag in x))throw Error("Illegal content in < super tag.");if(t.tags[u.tag]<=t.tags.$||r(u,a))i.push(u),u.nodes=o(e,u.tag,i,a);else{if("/"==u.tag){if(0===i.length)throw Error("Closing tag without opener: /"+u.n);if(c=i.pop(),u.n!=c.n&&!s(u.n,c.n,a))throw Error("Nesting error: "+c.n+" vs. "+u.n);return c.end=u.i,h}"\n"==u.tag&&(u.last=0==e.length||"\n"==e[0].tag)}h.push(u)}if(i.length>0)throw Error("missing closing tag: "+i.pop().n);return h}function r(t,e){for(var n=0,i=e.length;i>n;n++)if(e[n].o==t.n)return t.tag="#",!0}function s(t,e,n){for(var i=0,o=n.length;o>i;i++)if(n[i].c==t&&n[i].o==e)return!0}function a(t){var e=[];for(var n in t)e.push('"'+c(n)+'": function(c,p,t,i) {'+t[n]+"}");return"{ "+e.join(",")+" }"}function h(t){var e=[];for(var n in t.partials)e.push('"'+c(n)+'":{name:"'+c(t.partials[n].name)+'", '+h(t.partials[n])+"}");return"partials: {"+e.join(",")+"}, subs: "+a(t.subs)}function c(t){return t.replace(v,"\\\\").replace(g,'\\"').replace(m,"\\n").replace(y,"\\r").replace(w,"\\u2028").replace(b,"\\u2029")}function l(t){return~t.indexOf(".")?"d":"f"}function u(t,e){var n="<"+(e.prefix||""),i=n+t.n+T++;return e.partials[i]={name:t.n,partials:{}},e.code+='t.b(t.rp("'+c(i)+'",c,p,"'+(t.indent||"")+'"));',i}function d(t,e){e.code+="t.b(t.t(t."+l(t.n)+'("'+c(t.n)+'",c,p,0)));'}function p(t){return"t.b("+t+");"}var f=/\S/,g=/\"/g,m=/\n/g,y=/\r/g,v=/\\/g,w=/\u2028/,b=/\u2029/;t.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},t.scan=function(o,r){function s(){y.length>0&&(v.push({tag:"_t",text:new String(y)}),y="")}function a(){for(var e=!0,n=x;n<v.length;n++)if(!(e=t.tags[v[n].tag]<t.tags._v||"_t"==v[n].tag&&null===v[n].text.match(f)))return!1;return e}function h(t,e){if(s(),t&&a())for(var n,i=x;i<v.length;i++)v[i].text&&((n=v[i+1])&&">"==n.tag&&(n.indent=""+v[i].text),v.splice(i,1));else e||v.push({tag:"\n"});w=!1,x=v.length}function c(t,e){var i="="+E,o=t.indexOf(i,e),r=n(t.substring(t.indexOf("=",e)+1,o)).split(" ");return T=r[0],E=r[r.length-1],o+i.length-1}var l=o.length,u=0,d=1,p=u,g=null,m=null,y="",v=[],w=!1,b=0,x=0,T="{{",E="}}";for(r&&(r=r.split(" "),T=r[0],E=r[1]),b=0;l>b;b++)p==u?i(T,o,b)?(--b,s(),p=d):"\n"==o.charAt(b)?h(w):y+=o.charAt(b):p==d?(b+=T.length-1,m=t.tags[o.charAt(b+1)],g=m?o.charAt(b+1):"_v","="==g?(b=c(o,b),p=u):(m&&b++,p=2),w=b):i(E,o,b)?(v.push({tag:g,n:n(y),otag:T,ctag:E,i:"/"==g?w-T.length:b+E.length}),y="",b+=E.length-1,p=u,"{"==g&&("}}"==E?b++:e(v[v.length-1]))):y+=o.charAt(b);return h(w,!0),v};var x={_t:!0,"\n":!0,$:!0,"/":!0};t.stringify=function(e){return"{code: function (c,p,i) { "+t.wrapMain(e.code)+" },"+h(e)+"}"};var T=0;t.generate=function(e,n,i){T=0;var o={code:"",subs:{},partials:{}};return t.walk(e,o),i.asString?this.stringify(o,n,i):this.makeTemplate(o,n,i)},t.wrapMain=function(t){return'var t=this;t.b(i=i||"");'+t+"return t.fl();"},t.template=t.Template,t.makeTemplate=function(t,e,n){var i=this.makePartials(t);return i.code=Function("c","p","i",this.wrapMain(t.code)),new this.template(i,e,this,n)},t.makePartials=function(t){var e,n={subs:{},partials:t.partials,name:t.name};for(e in n.partials)n.partials[e]=this.makePartials(n.partials[e]);for(e in t.subs)n.subs[e]=Function("c","p","t","i",t.subs[e]);return n},t.codegen={"#":function(e,n){n.code+="if(t.s(t."+l(e.n)+'("'+c(e.n)+'",c,p,1),c,p,0,'+e.i+","+e.end+',"'+e.otag+" "+e.ctag+'")){t.rs(c,p,function(c,p,t){',t.walk(e.nodes,n),n.code+="});c.pop();}"},"^":function(e,n){n.code+="if(!t.s(t."+l(e.n)+'("'+c(e.n)+'",c,p,1),c,p,1,0,0,"")){',t.walk(e.nodes,n),n.code+="};"},">":u,"<":function(e,n){var i={partials:{},code:"",subs:{},inPartial:!0};t.walk(e.nodes,i);var o=n.partials[u(e,n)];o.subs=i.subs,o.partials=i.partials},$:function(e,n){var i={subs:{},code:"",partials:n.partials,prefix:e.n};t.walk(e.nodes,i),n.subs[e.n]=i.code,n.inPartial||(n.code+='t.sub("'+c(e.n)+'",c,p,i);')},"\n":function(t,e){e.code+=p('"\\n"'+(t.last?"":" + i"))},_v:function(t,e){e.code+="t.b(t.v(t."+l(t.n)+'("'+c(t.n)+'",c,p,0)));'},_t:function(t,e){e.code+=p('"'+c(t.text)+'"')},"{":d,"&":d},t.walk=function(e,n){for(var i,o=0,r=e.length;r>o;o++)(i=t.codegen[e[o].tag])&&i(e[o],n);return n},t.parse=function(t,e,n){return n=n||{},o(t,"",[],n.sectionTags||[])},t.cache={},t.cacheKey=function(t,e){return[t,!!e.asString,!!e.disableLambda,e.delimiters,!!e.modelGet].join("||")},t.compile=function(e,n){n=n||{};var i=t.cacheKey(e,n),o=this.cache[i];if(o){var r=o.partials;for(var s in r)delete r[s].instance;return o}return o=this.generate(this.parse(this.scan(e,n.delimiters),e,n),e,n),this.cache[i]=o}}("undefined"!=typeof exports?exports:Hogan),function(t){function e(){}function n(t){function n(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function o(e,n){t.fn[e]=function(o){if("string"==typeof o){for(var s=i.call(arguments,1),a=0,h=this.length;h>a;a++){var c=this[a],l=t.data(c,e);if(l)if(t.isFunction(l[o])&&"_"!==o.charAt(0)){var u=l[o].apply(l,s);if(void 0!==u)return u}else r("no such method '"+o+"' for "+e+" instance");else r("cannot call methods on "+e+" prior to initialization; attempted to call '"+o+"'")}return this}return this.each(function(){var i=t.data(this,e);i?(i.option(o),i._init()):(i=new n(this,o),t.data(this,e,i))})}}if(t){var r="undefined"==typeof console?e:function(t){console.error(t)};return t.bridget=function(t,e){n(e),o(t,e)},t.bridget}}var i=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],n):n("object"==typeof exports?require("jquery"):t.jQuery)}(window),function(t){function e(e){var n=t.event;return n.target=n.target||n.srcElement||e,n}var n=document.documentElement,i=function(){};n.addEventListener?i=function(t,e,n){t.addEventListener(e,n,!1)}:n.attachEvent&&(i=function(t,n,i){t[n+i]=i.handleEvent?function(){var n=e(t);i.handleEvent.call(i,n)}:function(){var n=e(t);i.call(t,n)},t.attachEvent("on"+n,t[n+i])});var o=function(){};n.removeEventListener?o=function(t,e,n){t.removeEventListener(e,n,!1)}:n.detachEvent&&(o=function(t,e,n){t.detachEvent("on"+e,t[e+n]);try{delete t[e+n]}catch(i){t[e+n]=void 0}});var r={bind:i,unbind:o};"function"==typeof define&&define.amd?define("eventie/eventie",r):"object"==typeof exports?module.exports=r:t.eventie=r}(window),function(t){function e(t){"function"==typeof t&&(e.isReady?t():s.push(t))}function n(t){var n="readystatechange"===t.type&&"complete"!==r.readyState;e.isReady||n||i()}function i(){e.isReady=!0;for(var t=0,n=s.length;n>t;t++){(0,s[t])()}}function o(o){return"complete"===r.readyState?i():(o.bind(r,"DOMContentLoaded",n),o.bind(r,"readystatechange",n),o.bind(t,"load",n)),e}var r=t.document,s=[];e.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],o):"object"==typeof exports?module.exports=o(require("eventie")):t.docReady=o(t.eventie)}(window),function(){function t(){}function e(t,e){for(var n=t.length;n--;)if(t[n].listener===e)return n;return-1}function n(t){return function(){return this[t].apply(this,arguments)}}var i=t.prototype,o=this,r=o.EventEmitter;i.getListeners=function(t){var e,n,i=this._getEvents();if(t instanceof RegExp){e={};for(n in i)i.hasOwnProperty(n)&&t.test(n)&&(e[n]=i[n])}else e=i[t]||(i[t]=[]);return e},i.flattenListeners=function(t){var e,n=[];for(e=0;e<t.length;e+=1)n.push(t[e].listener);return n},i.getListenersAsObject=function(t){var e,n=this.getListeners(t);return n instanceof Array&&(e={},e[t]=n),e||n},i.addListener=function(t,n){var i,o=this.getListenersAsObject(t),r="object"==typeof n;for(i in o)o.hasOwnProperty(i)&&-1===e(o[i],n)&&o[i].push(r?n:{listener:n,once:!1});return this},i.on=n("addListener"),i.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(t){return this.getListeners(t),this},i.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},i.removeListener=function(t,n){var i,o,r=this.getListenersAsObject(t);for(o in r)r.hasOwnProperty(o)&&-1!==(i=e(r[o],n))&&r[o].splice(i,1);return this},i.off=n("removeListener"),i.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},i.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},i.manipulateListeners=function(t,e,n){var i,o,r=t?this.removeListener:this.addListener,s=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(i=n.length;i--;)r.call(this,e,n[i]);else for(i in e)e.hasOwnProperty(i)&&(o=e[i])&&("function"==typeof o?r.call(this,i,o):s.call(this,i,o));return this},i.removeEvent=function(t){var e,n=typeof t,i=this._getEvents();if("string"===n)delete i[t];else if(t instanceof RegExp)for(e in i)i.hasOwnProperty(e)&&t.test(e)&&delete i[e];else delete this._events;return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(t,e){var n,i,o,r=this.getListenersAsObject(t);for(o in r)if(r.hasOwnProperty(o))for(i=r[o].length;i--;)n=r[o][i],!0===n.once&&this.removeListener(t,n.listener),n.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,n.listener);return this},i.trigger=n("emitEvent"),i.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},i.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},i._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},i._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return o.EventEmitter=r,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:o.EventEmitter=t}.call(this),function(t){function e(t){if(t){if("string"==typeof i[t])return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e,o=0,r=n.length;r>o;o++)if(e=n[o]+t,"string"==typeof i[e])return e}}var n="Webkit Moz ms Ms O".split(" "),i=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return e}):"object"==typeof exports?module.exports=e:t.getStyleProperty=e}(window),function(t){function e(t){var e=parseFloat(t);return-1===t.indexOf("%")&&!isNaN(e)&&e}function n(){}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0,n=s.length;n>e;e++){t[s[e]]=0}return t}function o(n){function o(){if(!d){d=!0;var i=t.getComputedStyle;if(c=function(){var t=i?function(t){return i(t,null)}:function(t){return t.currentStyle};return function(e){var n=t(e);return n||r("Style returned "+n+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),n}}(),l=n("boxSizing")){var o=document.createElement("div");o.style.width="200px",o.style.padding="1px 2px 3px 4px",o.style.borderStyle="solid",o.style.borderWidth="1px 2px 3px 4px",o.style[l]="border-box";var s=document.body||document.documentElement;s.appendChild(o);var a=c(o);u=200===e(a.width),s.removeChild(o)}}}function a(t){if(o(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var n=c(t);if("none"===n.display)return i();var r={};r.width=t.offsetWidth,r.height=t.offsetHeight;for(var a=r.isBorderBox=!(!l||!n[l]||"border-box"!==n[l]),d=0,p=s.length;p>d;d++){var f=s[d],g=n[f];g=h(t,g);var m=parseFloat(g);r[f]=isNaN(m)?0:m}var y=r.paddingLeft+r.paddingRight,v=r.paddingTop+r.paddingBottom,w=r.marginLeft+r.marginRight,b=r.marginTop+r.marginBottom,x=r.borderLeftWidth+r.borderRightWidth,T=r.borderTopWidth+r.borderBottomWidth,E=a&&u,L=e(n.width);!1!==L&&(r.width=L+(E?0:y+x));var _=e(n.height);return!1!==_&&(r.height=_+(E?0:v+T)),r.innerWidth=r.width-(y+x),r.innerHeight=r.height-(v+T),r.outerWidth=r.width+w,r.outerHeight=r.height+b,r}}function h(e,n){if(t.getComputedStyle||-1===n.indexOf("%"))return n;var i=e.style,o=i.left,r=e.runtimeStyle,s=r&&r.left;return s&&(r.left=e.currentStyle.left),i.left=n,n=i.pixelLeft,i.left=o,s&&(r.left=s),n}var c,l,u,d=!1;return a}var r="undefined"==typeof console?n:function(t){console.error(t)},s=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],o):"object"==typeof exports?module.exports=o(require("desandro-get-style-property")):t.getSize=o(t.getStyleProperty)}(window),function(t){function e(t,e){return t[s](e)}function n(t){if(!t.parentNode){document.createDocumentFragment().appendChild(t)}}function i(t,e){n(t);for(var i=t.parentNode.querySelectorAll(e),o=0,r=i.length;r>o;o++)if(i[o]===t)return!0;return!1}function o(t,i){return n(t),e(t,i)}var r,s=function(){if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],n=0,i=e.length;i>n;n++){var o=e[n],r=o+"MatchesSelector";if(t[r])return r}}();if(s){var a=document.createElement("div"),h=e(a,"div");r=h?e:o}else r=i;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return r}):"object"==typeof exports?module.exports=r:window.matchesSelector=r}(Element.prototype),function(t){function e(t,e){for(var n in e)t[n]=e[n];return t}function n(t){for(var e in t)return!1;return null,!0}function i(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function o(t,o,r){function a(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var h=r("transition"),c=r("transform"),l=h&&c,u=!!r("perspective"),d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[h],p=["transform","transition","transitionDuration","transitionProperty"],f=function(){for(var t={},e=0,n=p.length;n>e;e++){var i=p[e],o=r(i);o&&o!==i&&(t[i]=o)}return t}();e(a.prototype,t.prototype),a.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},a.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},a.prototype.getSize=function(){this.size=o(this.element)},a.prototype.css=function(t){var e=this.element.style;for(var n in t){e[f[n]||n]=t[n]}},a.prototype.getPosition=function(){var t=s(this.element),e=this.layout.options,n=e.isOriginLeft,i=e.isOriginTop,o=parseInt(t[n?"left":"right"],10),r=parseInt(t[i?"top":"bottom"],10);o=isNaN(o)?0:o,r=isNaN(r)?0:r;var a=this.layout.size;o-=n?a.paddingLeft:a.paddingRight,r-=i?a.paddingTop:a.paddingBottom,this.position.x=o,this.position.y=r},a.prototype.layoutPosition=function(){var t=this.layout.size,e=this.layout.options,n={};e.isOriginLeft?(n.left=this.position.x+t.paddingLeft+"px",n.right=""):(n.right=this.position.x+t.paddingRight+"px",n.left=""),e.isOriginTop?(n.top=this.position.y+t.paddingTop+"px",n.bottom=""):(n.bottom=this.position.y+t.paddingBottom+"px",n.top=""),this.css(n),this.emitEvent("layout",[this])};var g=u?function(t,e){return"translate3d("+t+"px, "+e+"px, 0)"}:function(t,e){return"translate("+t+"px, "+e+"px)"};a.prototype._transitionTo=function(t,e){this.getPosition();var n=this.position.x,i=this.position.y,o=parseInt(t,10),r=parseInt(e,10),s=o===this.position.x&&r===this.position.y;if(this.setPosition(t,e),s&&!this.isTransitioning)return void this.layoutPosition();var a=t-n,h=e-i,c={},l=this.layout.options;a=l.isOriginLeft?a:-a,h=l.isOriginTop?h:-h,c.transform=g(a,h),this.transition({to:c,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},a.prototype.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},a.prototype.moveTo=l?a.prototype._transitionTo:a.prototype.goTo,a.prototype.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},a.prototype._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},a.prototype._transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var e=this._transn;for(var n in t.onTransitionEnd)e.onEnd[n]=t.onTransitionEnd[n];for(n in t.to)e.ingProperties[n]=!0,t.isCleaning&&(e.clean[n]=!0);if(t.from){this.css(t.from);this.element.offsetHeight;null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var m=c&&i(c)+",opacity";a.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:m,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(d,this,!1))},a.prototype.transition=a.prototype[h?"_transition":"_nonTransition"],a.prototype.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},a.prototype.onotransitionend=function(t){this.ontransitionend(t)};var y={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};a.prototype.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,i=y[t.propertyName]||t.propertyName;if(delete e.ingProperties[i],n(e.ingProperties)&&this.disableTransition(),i in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[i]),i in e.onEnd){e.onEnd[i].call(this),delete e.onEnd[i]}this.emitEvent("transitionEnd",[this])}},a.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(d,this,!1),this.isTransitioning=!1},a.prototype._removeStyles=function(t){var e={};for(var n in t)e[n]="";this.css(e)};var v={transitionProperty:"",transitionDuration:""};return a.prototype.removeTransitionStyles=function(){this.css(v)},a.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},a.prototype.remove=function(){if(!h||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var t=this;this.on("transitionEnd",function(){return t.removeElem(),!0}),this.hide()},a.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options;this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0})},a.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options;this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},a.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},a}var r=t.getComputedStyle,s=r?function(t){return r(t,null)}:function(t){return t.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],o):"object"==typeof exports?module.exports=o(require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property")):(t.Outlayer={},t.Outlayer.Item=o(t.EventEmitter,t.getSize,t.getStyleProperty))}(window),function(t){function e(t,e){for(var n in e)t[n]=e[n];return t}function n(t){return"[object Array]"===u.call(t)}function i(t){var e=[];if(n(t))e=t;else if(t&&"number"==typeof t.length)for(var i=0,o=t.length;o>i;i++)e.push(t[i]);else e.push(t);return e}function o(t,e){var n=p(e,t);-1!==n&&e.splice(n,1)}function r(t){return t.replace(/(.)([A-Z])/g,function(t,e,n){return e+"-"+n}).toLowerCase()}function s(n,s,u,p,f,g){function m(t,n){if("string"==typeof t&&(t=a.querySelector(t)),!t||!d(t))return void(h&&h.error("Bad "+this.constructor.namespace+" element: "+t));this.element=t,this.options=e({},this.constructor.defaults),this.option(n);var i=++y;this.element.outlayerGUID=i,v[i]=this,this._create(),this.options.isInitLayout&&this.layout()}var y=0,v={};return m.namespace="outlayer",m.Item=g,m.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},e(m.prototype,u.prototype),m.prototype.option=function(t){e(this.options,t)},m.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),e(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},m.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},m.prototype._itemize=function(t){for(var e=this._filterFindItemElements(t),n=this.constructor.Item,i=[],o=0,r=e.length;r>o;o++){var s=e[o],a=new n(s,this);i.push(a)}return i},m.prototype._filterFindItemElements=function(t){t=i(t);for(var e=this.options.itemSelector,n=[],o=0,r=t.length;r>o;o++){var s=t[o];if(d(s))if(e){f(s,e)&&n.push(s);for(var a=s.querySelectorAll(e),h=0,c=a.length;c>h;h++)n.push(a[h])}else n.push(s)}return n},m.prototype.getItemElements=function(){for(var t=[],e=0,n=this.items.length;n>e;e++)t.push(this.items[e].element);return t},m.prototype.layout=function(){this._resetLayout(),this._manageStamps();var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},m.prototype._init=m.prototype.layout,m.prototype._resetLayout=function(){this.getSize()},m.prototype.getSize=function(){this.size=p(this.element)},m.prototype._getMeasurement=function(t,e){var n,i=this.options[t];i?("string"==typeof i?n=this.element.querySelector(i):d(i)&&(n=i),this[t]=n?p(n)[e]:i):this[t]=0},m.prototype.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},m.prototype._getItemsForLayout=function(t){for(var e=[],n=0,i=t.length;i>n;n++){var o=t[n];o.isIgnored||e.push(o)}return e},m.prototype._layoutItems=function(t,e){function n(){i.emitEvent("layoutComplete",[i,t])}var i=this;if(!t||!t.length)return void n();this._itemsOn(t,"layout",n);for(var o=[],r=0,s=t.length;s>r;r++){var a=t[r],h=this._getItemLayoutPosition(a);h.item=a,h.isInstant=e||a.isLayoutInstant,o.push(h)}this._processLayoutQueue(o)},m.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},m.prototype._processLayoutQueue=function(t){for(var e=0,n=t.length;n>e;e++){var i=t[e];this._positionItem(i.item,i.x,i.y,i.isInstant)}},m.prototype._positionItem=function(t,e,n,i){i?t.goTo(e,n):t.moveTo(e,n)},m.prototype._postLayout=function(){this.resizeContainer()},m.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},m.prototype._getContainerSize=l,m.prototype._setContainerMeasure=function(t,e){if(void 0!==t){var n=this.size;n.isBorderBox&&(t+=e?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},m.prototype._itemsOn=function(t,e,n){function i(){return o++,o===r&&n.call(s),!0}for(var o=0,r=t.length,s=this,a=0,h=t.length;h>a;a++){t[a].on(e,i)}},m.prototype.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},m.prototype.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},m.prototype.stamp=function(t){if(t=this._find(t)){this.stamps=this.stamps.concat(t);for(var e=0,n=t.length;n>e;e++){var i=t[e];this.ignore(i)}}},m.prototype.unstamp=function(t){if(t=this._find(t))for(var e=0,n=t.length;n>e;e++){var i=t[e];o(i,this.stamps),this.unignore(i)}},m.prototype._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=i(t)):void 0},m.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var t=0,e=this.stamps.length;e>t;t++){var n=this.stamps[t];this._manageStamp(n)}}},m.prototype._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},m.prototype._manageStamp=l,m.prototype._getElementOffset=function(t){var e=t.getBoundingClientRect(),n=this._boundingRect,i=p(t);return{left:e.left-n.left-i.marginLeft,top:e.top-n.top-i.marginTop,right:n.right-e.right-i.marginRight,bottom:n.bottom-e.bottom-i.marginBottom}},m.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},m.prototype.bindResize=function(){this.isResizeBound||(n.bind(t,"resize",this),this.isResizeBound=!0)},m.prototype.unbindResize=function(){this.isResizeBound&&n.unbind(t,"resize",this),this.isResizeBound=!1},m.prototype.onresize=function(){function t(){e.resize(),delete e.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var e=this;this.resizeTimeout=setTimeout(t,100)},m.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},m.prototype.needsResizeLayout=function(){var t=p(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},m.prototype.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},m.prototype.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},m.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){var n=this.items.slice(0);this.items=e.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(n)}},m.prototype.reveal=function(t){var e=t&&t.length;if(e)for(var n=0;e>n;n++){var i=t[n];i.reveal()}},m.prototype.hide=function(t){var e=t&&t.length;if(e)for(var n=0;e>n;n++){var i=t[n];i.hide()}},m.prototype.getItem=function(t){for(var e=0,n=this.items.length;n>e;e++){var i=this.items[e];if(i.element===t)return i}},m.prototype.getItems=function(t){if(t&&t.length){for(var e=[],n=0,i=t.length;i>n;n++){var o=t[n],r=this.getItem(o);r&&e.push(r)}return e}},m.prototype.remove=function(t){t=i(t);var e=this.getItems(t);if(e&&e.length){this._itemsOn(e,"remove",function(){this.emitEvent("removeComplete",[this,e])});for(var n=0,r=e.length;r>n;n++){var s=e[n];s.remove(),o(s,this.items)}}},m.prototype.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="";for(var e=0,n=this.items.length;n>e;e++){this.items[e].destroy()}this.unbindResize();var i=this.element.outlayerGUID;delete v[i],delete this.element.outlayerGUID,c&&c.removeData(this.element,this.constructor.namespace)},m.data=function(t){var e=t&&t.outlayerGUID;return e&&v[e]},m.create=function(t,n){function i(){m.apply(this,arguments)}return Object.create?i.prototype=Object.create(m.prototype):e(i.prototype,m.prototype),i.prototype.constructor=i,i.defaults=e({},m.defaults),e(i.defaults,n),i.prototype.settings={},i.namespace=t,i.data=m.data,i.Item=function(){g.apply(this,arguments)},i.Item.prototype=new g,s(function(){for(var e=r(t),n=a.querySelectorAll(".js-"+e),o="data-"+e+"-options",s=0,l=n.length;l>s;s++){var u,d=n[s],p=d.getAttribute(o);try{u=p&&JSON.parse(p)}catch(t){h&&h.error("Error parsing "+o+" on "+d.nodeName.toLowerCase()+(d.id?"#"+d.id:"")+": "+t);continue}var f=new i(d,u);c&&c.data(d,t,f)}}),c&&c.bridget&&c.bridget(t,i),i},m.Item=g,m}var a=t.document,h=t.console,c=t.jQuery,l=function(){},u=Object.prototype.toString,d="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(t){return t instanceof HTMLElement}:function(t){return t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName},p=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1};"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],s):"object"==typeof exports?module.exports=s(require("eventie"),require("doc-ready"),require("wolfy87-eventemitter"),require("get-size"),require("desandro-matches-selector"),require("./item")):t.Outlayer=s(t.eventie,t.docReady,t.EventEmitter,t.getSize,t.matchesSelector,t.Outlayer.Item)}(window),function(t,e){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],e):"object"==typeof exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window,function(t,e){var n=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var n=0,i=t.length;i>n;n++){if(t[n]===e)return n}return-1},i=t.create("masonry");return i.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var t=this.cols;for(this.colYs=[];t--;)this.colYs.push(0);this.maxY=0},i.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],n=t&&t.element;this.columnWidth=n&&e(n).outerWidth||this.containerWidth}var i=this.columnWidth+=this.gutter,o=this.containerWidth+this.gutter,r=o/i,s=i-o%i,a=s&&1>s?"round":"floor";r=Math[a](r),this.cols=Math.max(r,1)},i.prototype.getContainerWidth=function(){var t=this.options.isFitWidth?this.element.parentNode:this.element,n=e(t);this.containerWidth=n&&n.innerWidth},i.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,i=e&&1>e?"round":"ceil",o=Math[i](t.size.outerWidth/this.columnWidth);o=Math.min(o,this.cols);for(var r=this._getColGroup(o),s=Math.min.apply(Math,r),a=n(r,s),h={x:this.columnWidth*a,y:s},c=s+t.size.outerHeight,l=this.cols+1-r.length,u=0;l>u;u++)this.colYs[a+u]=c;return h},i.prototype._getColGroup=function(t){if(2>t)return this.colYs;for(var e=[],n=this.cols+1-t,i=0;n>i;i++){var o=this.colYs.slice(i,i+t);e[i]=Math.max.apply(Math,o)}return e},i.prototype._manageStamp=function(t){var n=e(t),i=this._getElementOffset(t),o=this.options.isOriginLeft?i.left:i.right,r=o+n.outerWidth,s=Math.floor(o/this.columnWidth);s=Math.max(0,s);var a=Math.floor(r/this.columnWidth);a-=r%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var h=(this.options.isOriginTop?i.top:i.bottom)+n.outerHeight,c=s;a>=c;c++)this.colYs[c]=Math.max(h,this.colYs[c])},i.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this.options.isFitWidth&&(t.width=this._getContainerFitWidth()),t},i.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},i.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!==this.containerWidth},i}),function(t){"use strict";function e(){this.rootNode=null,this.currentPage=1,this._masonry=null,this._lastPhotoNode=null}var n=t.debounce,i=$(".select"),o=i.offset();$(window).scroll(function(){$(window).scrollTop()+50>o.top?i.addClass("fixed"):i.removeClass("fixed")}),e.prototype.init=function(t){this.rootNode=t,this._masonry=new Masonry(t,{gutter:8,isFitWidth:!1,itemSelector:".photo",hiddenStyle:{opacity:0},visibleStyle:{opacity:1},transitionDuration:"0.8s"}),window.onscroll=n(this.onscroll.bind(this)),this.applied()},e.prototype.applied=function(){$(".lightbox").colorbox({rel:"gallery",fixed:!0,height:"90%",transition:"elastic",speed:360,width:"90%"}),this._lastPhotoNode=this.rootNode.querySelector(".photo:last-of-type")},e.prototype.onscroll=function(){document.documentElement.clientHeight,this._lastPhotoNode.getBoundingClientRect().top},t.PhotoGallery=e}((this||0).self||global);
//# sourceMappingURL=photoGallery.min.js.map