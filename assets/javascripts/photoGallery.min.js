!function(t,e,n){function i(n,i,o){var r=e.createElement(n);return i&&(r.id=Z+i),o&&(r.style.cssText=o),t(r)}function o(){return n.innerHeight?n.innerHeight:t(n).height()}function r(e,n){n!==Object(n)&&(n={}),this.cache={},this.el=e,this.value=function(e){var i;return void 0===this.cache[e]&&(i=t(this.el).attr("data-cbox-"+e),void 0!==i?this.cache[e]=i:void 0!==n[e]?this.cache[e]=n[e]:void 0!==Q[e]&&(this.cache[e]=Q[e])),this.cache[e]},this.get=function(e){var n=this.value(e);return t.isFunction(n)?n.call(this.el,this):n}}function s(t){var e=S.length,n=(D+t)%e;return 0>n?e+n:n}function a(t,e){return Math.round((/%/.test(t)?("x"===e?C.width():o())/100:1)*parseInt(t,10))}function c(t,e){return t.get("photo")||t.get("photoRegex").test(e)}function h(t,e){return t.get("retinaUrl")&&n.devicePixelRatio>1?e.replace(t.get("photoRegex"),t.get("retinaSuffix")):e}function u(t){"contains"in b[0]&&!b[0].contains(t.target)&&t.target!==v[0]&&(t.stopPropagation(),b.focus())}function l(t){l.str!==t&&(b.add(v).removeClass(l.str).addClass(t),l.str=t)}function p(e){D=0,e&&e!==!1&&"nofollow"!==e?(S=t("."+tt).filter(function(){var n=t.data(this,X),i=new r(this,n);return i.get("rel")===e}),D=S.index(N.el),-1===D&&(S=S.add(N.el),D=S.length-1)):S=t(N.el)}function d(n){t(e).trigger(n),at.triggerHandler(n)}function f(n){var o;if(!J){if(o=t(n).data(X),N=new r(n,o),p(N.get("rel")),!U){U=Y=!0,l(N.get("className")),b.css({visibility:"hidden",display:"block",opacity:""}),I=i(ct,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),x.css({width:"",height:""}).append(I),j=E.height()+_.height()+x.outerHeight(!0)-x.height(),B=T.width()+L.width()+x.outerWidth(!0)-x.width(),H=I.outerHeight(!0),F=I.outerWidth(!0);var s=a(N.get("initialWidth"),"x"),c=a(N.get("initialHeight"),"y"),h=N.get("maxWidth"),f=N.get("maxHeight");N.w=Math.max((h!==!1?Math.min(s,a(h,"x")):s)-F-B,0),N.h=Math.max((f!==!1?Math.min(c,a(f,"y")):c)-H-j,0),I.css({width:"",height:N.h}),K.position(),d(et),N.get("onOpen"),M.add(k).hide(),b.focus(),N.get("trapFocus")&&e.addEventListener&&(e.addEventListener("focus",u,!0),at.one(rt,function(){e.removeEventListener("focus",u,!0)})),N.get("returnFocus")&&at.one(rt,function(){t(N.el).focus()})}var m=parseFloat(N.get("opacity"));v.css({opacity:m===m?m:"",cursor:N.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),N.get("closeButton")?q.html(N.get("close")).appendTo(x):q.appendTo("<div/>"),y()}}function m(){b||(V=!1,C=t(n),b=i(ct).attr({id:X,class:t.support.opacity===!1?Z+"IE":"",role:"dialog",tabindex:"-1"}).hide(),v=i(ct,"Overlay").hide(),z=t([i(ct,"LoadingOverlay")[0],i(ct,"LoadingGraphic")[0]]),w=i(ct,"Wrapper"),x=i(ct,"Content").append(k=i(ct,"Title"),O=i(ct,"Current"),A=t('<button type="button"/>').attr({id:Z+"Previous"}),P=t('<button type="button"/>').attr({id:Z+"Next"}),W=t('<button type="button"/>').attr({id:Z+"Slideshow"}),z),q=t('<button type="button"/>').attr({id:Z+"Close"}),w.append(i(ct).append(i(ct,"TopLeft"),E=i(ct,"TopCenter"),i(ct,"TopRight")),i(ct,!1,"clear:left").append(T=i(ct,"MiddleLeft"),x,L=i(ct,"MiddleRight")),i(ct,!1,"clear:left").append(i(ct,"BottomLeft"),_=i(ct,"BottomCenter"),i(ct,"BottomRight"))).find("div div").css({float:"left"}),R=i(ct,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),M=P.add(A).add(O).add(W)),e.body&&!b.parent().length&&t(e.body).append(v,b.append(w,R))}function g(){function n(t){t.which>1||t.shiftKey||t.altKey||t.metaKey||t.ctrlKey||(t.preventDefault(),f(this))}return!!b&&(V||(V=!0,P.click(function(){K.next()}),A.click(function(){K.prev()}),q.click(function(){K.close()}),v.click(function(){N.get("overlayClose")&&K.close()}),t(e).bind("keydown."+Z,function(t){var e=t.keyCode;U&&N.get("escKey")&&27===e&&(t.preventDefault(),K.close()),U&&N.get("arrowKey")&&S[1]&&!t.altKey&&(37===e?(t.preventDefault(),A.click()):39===e&&(t.preventDefault(),P.click()))}),t.isFunction(t.fn.on)?t(e).on("click."+Z,"."+tt,n):t("."+tt).live("click."+Z,n)),!0)}function y(){var e,o,r,s=K.prep,u=++ht;if(Y=!0,$=!1,d(st),d(nt),N.get("onLoad"),N.h=N.get("height")?a(N.get("height"),"y")-H-j:N.get("innerHeight")&&a(N.get("innerHeight"),"y"),N.w=N.get("width")?a(N.get("width"),"x")-F-B:N.get("innerWidth")&&a(N.get("innerWidth"),"x"),N.mw=N.w,N.mh=N.h,N.get("maxWidth")&&(N.mw=a(N.get("maxWidth"),"x")-F-B,N.mw=N.w&&N.w<N.mw?N.w:N.mw),N.get("maxHeight")&&(N.mh=a(N.get("maxHeight"),"y")-H-j,N.mh=N.h&&N.h<N.mh?N.h:N.mh),e=N.get("href"),G=setTimeout(function(){z.show()},100),N.get("inline")){var l=t(e).eq(0);r=t("<div>").hide().insertBefore(l),at.one(st,function(){r.replaceWith(l)}),s(l)}else N.get("iframe")?s(" "):N.get("html")?s(N.get("html")):c(N,e)?(e=h(N,e),$=N.get("createImg"),t($).addClass(Z+"Photo").bind("error."+Z,function(){s(i(ct,"Error").html(N.get("imgError")))}).one("load",function(){u===ht&&setTimeout(function(){var e;N.get("retinaImage")&&n.devicePixelRatio>1&&($.height=$.height/n.devicePixelRatio,$.width=$.width/n.devicePixelRatio),N.get("scalePhotos")&&(o=function(){$.height-=$.height*e,$.width-=$.width*e},N.mw&&$.width>N.mw&&(e=($.width-N.mw)/$.width,o()),N.mh&&$.height>N.mh&&(e=($.height-N.mh)/$.height,o())),N.h&&($.style.marginTop=Math.max(N.mh-$.height,0)/2+"px"),S[1]&&(N.get("loop")||S[D+1])&&($.style.cursor="pointer",t($).bind("click."+Z,function(){K.next()})),$.style.width=$.width+"px",$.style.height=$.height+"px",s($)},1)}),$.src=e):e&&R.load(e,N.get("data"),function(e,n){u===ht&&s("error"===n?i(ct,"Error").html(N.get("xhrError")):t(this).contents())})}var v,b,w,x,E,T,L,_,S,C,I,R,z,k,O,W,P,A,q,M,N,j,B,H,F,D,$,U,Y,J,G,K,V,Q={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return t(this).attr("href")},title:function(){return this.title},createImg:function(){var e=new Image,n=t(this).data("cbox-img-attrs");return"object"==typeof n&&t.each(n,function(t,n){e[t]=n}),e},createIframe:function(){var n=e.createElement("iframe"),i=t(this).data("cbox-iframe-attrs");return"object"==typeof i&&t.each(i,function(t,e){n[t]=e}),"frameBorder"in n&&(n.frameBorder=0),"allowTransparency"in n&&(n.allowTransparency="true"),n.name=(new Date).getTime(),n.allowFullscreen=!0,n}},X="colorbox",Z="cbox",tt=Z+"Element",et=Z+"_open",nt=Z+"_load",it=Z+"_complete",ot=Z+"_cleanup",rt=Z+"_closed",st=Z+"_purge",at=t("<a/>"),ct="div",ht=0,ut={},lt=function(){function t(){clearTimeout(s)}function e(){(N.get("loop")||S[D+1])&&(t(),s=setTimeout(K.next,N.get("slideshowSpeed")))}function n(){W.html(N.get("slideshowStop")).unbind(c).one(c,i),at.bind(it,e).bind(nt,t),b.removeClass(a+"off").addClass(a+"on")}function i(){t(),at.unbind(it,e).unbind(nt,t),W.html(N.get("slideshowStart")).unbind(c).one(c,function(){K.next(),n()}),b.removeClass(a+"on").addClass(a+"off")}function o(){r=!1,W.hide(),t(),at.unbind(it,e).unbind(nt,t),b.removeClass(a+"off "+a+"on")}var r,s,a=Z+"Slideshow_",c="click."+Z;return function(){r?N.get("slideshow")||(at.unbind(ot,o),o()):N.get("slideshow")&&S[1]&&(r=!0,at.one(ot,o),N.get("slideshowAuto")?n():i(),W.show())}}();t[X]||(t(m),K=t.fn[X]=t[X]=function(e,n){var i,o=this;return e=e||{},t.isFunction(o)&&(o=t("<a/>"),e.open=!0),o[0]?(m(),g()&&(n&&(e.onComplete=n),o.each(function(){var n=t.data(this,X)||{};t.data(this,X,t.extend(n,e))}).addClass(tt),i=new r(o[0],e),i.get("open")&&f(o[0])),o):o},K.position=function(e,n){function i(){E[0].style.width=_[0].style.width=x[0].style.width=parseInt(b[0].style.width,10)-B+"px",x[0].style.height=T[0].style.height=L[0].style.height=parseInt(b[0].style.height,10)-j+"px"}var r,s,c,h=0,u=0,l=b.offset();if(C.unbind("resize."+Z),b.css({top:-9e4,left:-9e4}),s=C.scrollTop(),c=C.scrollLeft(),N.get("fixed")?(l.top-=s,l.left-=c,b.css({position:"fixed"})):(h=s,u=c,b.css({position:"absolute"})),u+=N.get("right")!==!1?Math.max(C.width()-N.w-F-B-a(N.get("right"),"x"),0):N.get("left")!==!1?a(N.get("left"),"x"):Math.round(Math.max(C.width()-N.w-F-B,0)/2),h+=N.get("bottom")!==!1?Math.max(o()-N.h-H-j-a(N.get("bottom"),"y"),0):N.get("top")!==!1?a(N.get("top"),"y"):Math.round(Math.max(o()-N.h-H-j,0)/2),b.css({top:l.top,left:l.left,visibility:"visible"}),w[0].style.width=w[0].style.height="9999px",r={width:N.w+F+B,height:N.h+H+j,top:h,left:u},e){var p=0;t.each(r,function(t){return r[t]!==ut[t]?void(p=e):void 0}),e=p}ut=r,e||b.css(r),b.dequeue().animate(r,{duration:e||0,complete:function(){i(),Y=!1,w[0].style.width=N.w+F+B+"px",w[0].style.height=N.h+H+j+"px",N.get("reposition")&&setTimeout(function(){C.bind("resize."+Z,K.position)},1),t.isFunction(n)&&n()},step:i})},K.resize=function(t){var e;U&&(t=t||{},t.width&&(N.w=a(t.width,"x")-F-B),t.innerWidth&&(N.w=a(t.innerWidth,"x")),I.css({width:N.w}),t.height&&(N.h=a(t.height,"y")-H-j),t.innerHeight&&(N.h=a(t.innerHeight,"y")),t.innerHeight||t.height||(e=I.scrollTop(),I.css({height:"auto"}),N.h=I.height()),I.css({height:N.h}),e&&I.scrollTop(e),K.position("none"===N.get("transition")?0:N.get("speed")))},K.prep=function(n){function o(){return N.w=N.w||I.width(),N.w=N.mw&&N.mw<N.w?N.mw:N.w,N.w}function a(){return N.h=N.h||I.height(),N.h=N.mh&&N.mh<N.h?N.mh:N.h,N.h}if(U){var u,p="none"===N.get("transition")?0:N.get("speed");I.remove(),I=i(ct,"LoadedContent").append(n),I.hide().appendTo(R.show()).css({width:o(),overflow:N.get("scrolling")?"auto":"hidden"}).css({height:a()}).prependTo(x),R.hide(),t($).css({float:"none"}),l(N.get("className")),u=function(){function n(){t.support.opacity===!1&&b[0].style.removeAttribute("filter")}var i,o,a=S.length;U&&(o=function(){clearTimeout(G),z.hide(),d(it),N.get("onComplete")},k.html(N.get("title")).show(),I.show(),a>1?("string"==typeof N.get("current")&&O.html(N.get("current").replace("{current}",D+1).replace("{total}",a)).show(),P[N.get("loop")||a-1>D?"show":"hide"]().html(N.get("next")),A[N.get("loop")||D?"show":"hide"]().html(N.get("previous")),lt(),N.get("preloading")&&t.each([s(-1),s(1)],function(){var n,i=S[this],o=new r(i,t.data(i,X)),s=o.get("href");s&&c(o,s)&&(s=h(o,s),n=e.createElement("img"),n.src=s)})):M.hide(),N.get("iframe")?(i=N.get("createIframe"),N.get("scrolling")||(i.scrolling="no"),t(i).attr({src:N.get("href"),class:Z+"Iframe"}).one("load",o).appendTo(I),at.one(st,function(){i.src="//about:blank"}),N.get("fastIframe")&&t(i).trigger("load")):o(),"fade"===N.get("transition")?b.fadeTo(p,1,n):n())},"fade"===N.get("transition")?b.fadeTo(p,0,function(){K.position(0,u)}):K.position(p,u)}},K.next=function(){!Y&&S[1]&&(N.get("loop")||S[D+1])&&(D=s(1),f(S[D]))},K.prev=function(){!Y&&S[1]&&(N.get("loop")||D)&&(D=s(-1),f(S[D]))},K.close=function(){U&&!J&&(J=!0,U=!1,d(ot),N.get("onCleanup"),C.unbind("."+Z),v.fadeTo(N.get("fadeOut")||0,0),b.stop().fadeTo(N.get("fadeOut")||0,0,function(){b.hide(),v.hide(),d(st),I.remove(),setTimeout(function(){J=!1,d(rt),N.get("onClosed")},1)}))},K.remove=function(){b&&(b.stop(),t[X].close(),b.stop(!1,!0).remove(),v.remove(),J=!1,b=null,t("."+tt).removeData(X).removeClass(tt),t(e).unbind("click."+Z).unbind("keydown."+Z))},K.element=function(){return t(N.el)},K.settings=Q)}(jQuery,document,window),jQuery.extend(jQuery.colorbox.settings,{current:"{total}枚中{current}枚目",previous:"前",next:"次",close:"閉じる",xhrError:"コンテンツの読み込みに失敗しました",imgError:"画像の読み込みに失敗しました",slideshowStart:"スライドショー開始",slideshowStop:"スライドショー終了"});var Hogan={};!function(t){function e(t,e,n){var i;return e&&"object"==typeof e&&(void 0!==e[t]?i=e[t]:n&&e.get&&"function"==typeof e.get&&(i=e.get(t))),i}function n(t,e,n,i,o,r){function s(){}function a(){}s.prototype=t,a.prototype=t.subs;var c,h=new s;h.subs=new a,h.subsText={},h.buf="",i=i||{},h.stackSubs=i,h.subsText=r;for(c in e)i[c]||(i[c]=e[c]);for(c in i)h.subs[c]=i[c];o=o||{},h.stackPartials=o;for(c in n)o[c]||(o[c]=n[c]);for(c in o)h.partials[c]=o[c];return h}function i(t){return(null===t||void 0===t?"":t)+""}function o(t){return t=i(t),u.test(t)?t.replace(r,"&amp;").replace(s,"&lt;").replace(a,"&gt;").replace(c,"&#39;").replace(h,"&quot;"):t}t.Template=function(t,e,n,i){t=t||{},this.r=t.code||this.r,this.c=n,this.options=i||{},this.text=e||"",this.partials=t.partials||{},this.subs=t.subs||{},this.buf=""},t.Template.prototype={r:function(){return""},v:o,t:i,render:function(t,e,n){return this.ri([t],e||{},n)},ri:function(t,e,n){return this.r(t,e,n)},ep:function(t,e){var i=this.partials[t],o=e[i.name];if(i.instance&&i.base==o)return i.instance;if("string"==typeof o){if(!this.c)throw Error("No compiler available.");o=this.c.compile(o,this.options)}if(!o)return null;if(this.partials[t].base=o,i.subs){e.stackText||(e.stackText={});for(key in i.subs)e.stackText[key]||(e.stackText[key]=void 0!==this.activeSub&&e.stackText[this.activeSub]?e.stackText[this.activeSub]:this.text);o=n(o,i.subs,i.partials,this.stackSubs,this.stackPartials,e.stackText)}return this.partials[t].instance=o,o},rp:function(t,e,n,i){var o=this.ep(t,n);return o?o.ri(e,n,i):""},rs:function(t,e,n){var i=t[t.length-1];if(!l(i))return void n(t,e,this);for(var o=0;o<i.length;o++)t.push(i[o]),n(t,e,this),t.pop()},s:function(t,e,n,i,o,r,s){var a;return(!l(t)||0!==t.length)&&("function"==typeof t&&(t=this.ms(t,e,n,i,o,r,s)),a=!!t,!i&&a&&e&&e.push("object"==typeof t?t:e[e.length-1]),a)},d:function(t,n,i,o){var r,s=t.split("."),a=this.f(s[0],n,i,o),c=this.options.modelGet,h=null;if("."===t&&l(n[n.length-2]))a=n[n.length-1];else for(var u=1;u<s.length;u++)r=e(s[u],a,c),void 0!==r?(h=a,a=r):a="";return!(o&&!a)&&(o||"function"!=typeof a||(n.push(h),a=this.mv(a,n,i),n.pop()),a)},f:function(t,n,i,o){for(var r=!1,s=null,a=!1,c=this.options.modelGet,h=n.length-1;h>=0;h--)if(s=n[h],r=e(t,s,c),void 0!==r){a=!0;break}return a?(o||"function"!=typeof r||(r=this.mv(r,n,i)),r):!o&&""},ls:function(t,e,n,o,r){var s=this.options.delimiters;return this.options.delimiters=r,this.b(this.ct(i(t.call(e,o)),e,n)),this.options.delimiters=s,!1},ct:function(t,e,n){if(this.options.disableLambda)throw Error("Lambda features disabled.");return this.c.compile(t,this.options).render(e,n)},b:function(t){this.buf+=t},fl:function(){var t=this.buf;return this.buf="",t},ms:function(t,e,n,i,o,r,s){var a,c=e[e.length-1],h=t.call(c);return"function"==typeof h?!!i||(a=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(h,c,n,a.substring(o,r),s)):h},mv:function(t,e,n){var o=e[e.length-1],r=t.call(o);return"function"==typeof r?this.ct(i(r.call(o)),o,n):r},sub:function(t,e,n,i){var o=this.subs[t];o&&(this.activeSub=t,o(e,n,this,i),this.activeSub=!1)}};var r=/&/g,s=/</g,a=/>/g,c=/\'/g,h=/\"/g,u=/[&<>\"\']/,l=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}}("undefined"!=typeof exports?exports:Hogan),function(t){function e(t){"}"===t.n.substr(t.n.length-1)&&(t.n=t.n.substring(0,t.n.length-1))}function n(t){return t.trim?t.trim():t.replace(/^\s*|\s*$/g,"")}function i(t,e,n){if(e.charAt(n)!=t.charAt(0))return!1;for(var i=1,o=t.length;o>i;i++)if(e.charAt(n+i)!=t.charAt(i))return!1;return!0}function o(e,n,i,a){var c=[],h=null,u=null,l=null;for(u=i[i.length-1];e.length>0;){if(l=e.shift(),u&&"<"==u.tag&&!(l.tag in x))throw Error("Illegal content in < super tag.");if(t.tags[l.tag]<=t.tags.$||r(l,a))i.push(l),l.nodes=o(e,l.tag,i,a);else{if("/"==l.tag){if(0===i.length)throw Error("Closing tag without opener: /"+l.n);if(h=i.pop(),l.n!=h.n&&!s(l.n,h.n,a))throw Error("Nesting error: "+h.n+" vs. "+l.n);return h.end=l.i,c}"\n"==l.tag&&(l.last=0==e.length||"\n"==e[0].tag)}c.push(l)}if(i.length>0)throw Error("missing closing tag: "+i.pop().n);return c}function r(t,e){for(var n=0,i=e.length;i>n;n++)if(e[n].o==t.n)return t.tag="#",!0}function s(t,e,n){for(var i=0,o=n.length;o>i;i++)if(n[i].c==t&&n[i].o==e)return!0}function a(t){var e=[];for(var n in t)e.push('"'+h(n)+'": function(c,p,t,i) {'+t[n]+"}");return"{ "+e.join(",")+" }"}function c(t){var e=[];for(var n in t.partials)e.push('"'+h(n)+'":{name:"'+h(t.partials[n].name)+'", '+c(t.partials[n])+"}");return"partials: {"+e.join(",")+"}, subs: "+a(t.subs)}function h(t){return t.replace(v,"\\\\").replace(m,'\\"').replace(g,"\\n").replace(y,"\\r").replace(b,"\\u2028").replace(w,"\\u2029")}function u(t){return~t.indexOf(".")?"d":"f"}function l(t,e){var n="<"+(e.prefix||""),i=n+t.n+E++;return e.partials[i]={name:t.n,partials:{}},e.code+='t.b(t.rp("'+h(i)+'",c,p,"'+(t.indent||"")+'"));',i}function p(t,e){e.code+="t.b(t.t(t."+u(t.n)+'("'+h(t.n)+'",c,p,0)));'}function d(t){return"t.b("+t+");"}var f=/\S/,m=/\"/g,g=/\n/g,y=/\r/g,v=/\\/g,b=/\u2028/,w=/\u2029/;t.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},t.scan=function(o,r){function s(){v.length>0&&(b.push({tag:"_t",text:new String(v)}),v="")}function a(){for(var e=!0,n=E;n<b.length;n++)if(e=t.tags[b[n].tag]<t.tags._v||"_t"==b[n].tag&&null===b[n].text.match(f),!e)return!1;return e}function c(t,e){if(s(),t&&a())for(var n,i=E;i<b.length;i++)b[i].text&&((n=b[i+1])&&">"==n.tag&&(n.indent=""+b[i].text),b.splice(i,1));else e||b.push({tag:"\n"});w=!1,E=b.length}function h(t,e){var i="="+L,o=t.indexOf(i,e),r=n(t.substring(t.indexOf("=",e)+1,o)).split(" ");return T=r[0],L=r[r.length-1],o+i.length-1}var u=o.length,l=0,p=1,d=2,m=l,g=null,y=null,v="",b=[],w=!1,x=0,E=0,T="{{",L="}}";for(r&&(r=r.split(" "),T=r[0],L=r[1]),x=0;u>x;x++)m==l?i(T,o,x)?(--x,s(),m=p):"\n"==o.charAt(x)?c(w):v+=o.charAt(x):m==p?(x+=T.length-1,y=t.tags[o.charAt(x+1)],g=y?o.charAt(x+1):"_v","="==g?(x=h(o,x),m=l):(y&&x++,m=d),w=x):i(L,o,x)?(b.push({tag:g,n:n(v),otag:T,ctag:L,i:"/"==g?w-T.length:x+L.length}),v="",x+=L.length-1,m=l,"{"==g&&("}}"==L?x++:e(b[b.length-1]))):v+=o.charAt(x);return c(w,!0),b};var x={_t:!0,"\n":!0,$:!0,"/":!0};t.stringify=function(e){return"{code: function (c,p,i) { "+t.wrapMain(e.code)+" },"+c(e)+"}"};var E=0;t.generate=function(e,n,i){E=0;var o={code:"",subs:{},partials:{}};return t.walk(e,o),i.asString?this.stringify(o,n,i):this.makeTemplate(o,n,i)},t.wrapMain=function(t){return'var t=this;t.b(i=i||"");'+t+"return t.fl();"},t.template=t.Template,t.makeTemplate=function(t,e,n){var i=this.makePartials(t);return i.code=Function("c","p","i",this.wrapMain(t.code)),new this.template(i,e,this,n)},t.makePartials=function(t){var e,n={subs:{},partials:t.partials,name:t.name};for(e in n.partials)n.partials[e]=this.makePartials(n.partials[e]);for(e in t.subs)n.subs[e]=Function("c","p","t","i",t.subs[e]);return n},t.codegen={"#":function(e,n){n.code+="if(t.s(t."+u(e.n)+'("'+h(e.n)+'",c,p,1),c,p,0,'+e.i+","+e.end+',"'+e.otag+" "+e.ctag+'")){t.rs(c,p,function(c,p,t){',t.walk(e.nodes,n),n.code+="});c.pop();}"},"^":function(e,n){n.code+="if(!t.s(t."+u(e.n)+'("'+h(e.n)+'",c,p,1),c,p,1,0,0,"")){',t.walk(e.nodes,n),n.code+="};"},">":l,"<":function(e,n){var i={partials:{},code:"",subs:{},inPartial:!0};t.walk(e.nodes,i);var o=n.partials[l(e,n)];o.subs=i.subs,o.partials=i.partials},$:function(e,n){var i={subs:{},code:"",partials:n.partials,prefix:e.n};t.walk(e.nodes,i),n.subs[e.n]=i.code,n.inPartial||(n.code+='t.sub("'+h(e.n)+'",c,p,i);')},"\n":function(t,e){e.code+=d('"\\n"'+(t.last?"":" + i"))},_v:function(t,e){e.code+="t.b(t.v(t."+u(t.n)+'("'+h(t.n)+'",c,p,0)));'},_t:function(t,e){e.code+=d('"'+h(t.text)+'"')},"{":p,"&":p},t.walk=function(e,n){for(var i,o=0,r=e.length;r>o;o++)i=t.codegen[e[o].tag],i&&i(e[o],n);return n},t.parse=function(t,e,n){return n=n||{},o(t,"",[],n.sectionTags||[])},t.cache={},t.cacheKey=function(t,e){return[t,!!e.asString,!!e.disableLambda,e.delimiters,!!e.modelGet].join("||")},t.compile=function(e,n){n=n||{};var i=t.cacheKey(e,n),o=this.cache[i];if(o){var r=o.partials;for(var s in r)delete r[s].instance;return o}return o=this.generate(this.parse(this.scan(e,n.delimiters),e,n),e,n),this.cache[i]=o}}("undefined"!=typeof exports?exports:Hogan),!function(t){function e(){}function n(t){function n(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function o(e,n){t.fn[e]=function(o){if("string"==typeof o){for(var s=i.call(arguments,1),a=0,c=this.length;c>a;a++){var h=this[a],u=t.data(h,e);if(u)if(t.isFunction(u[o])&&"_"!==o.charAt(0)){var l=u[o].apply(u,s);if(void 0!==l)return l}else r("no such method '"+o+"' for "+e+" instance");else r("cannot call methods on "+e+" prior to initialization; attempted to call '"+o+"'")}return this}return this.each(function(){var i=t.data(this,e);i?(i.option(o),i._init()):(i=new n(this,o),t.data(this,e,i))})}}if(t){var r="undefined"==typeof console?e:function(t){console.error(t)};return t.bridget=function(t,e){n(e),o(t,e)},t.bridget}}var i=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],n):n("object"==typeof exports?require("jquery"):t.jQuery)}(window),function(t){function e(e){var n=t.event;return n.target=n.target||n.srcElement||e,n}var n=document.documentElement,i=function(){};n.addEventListener?i=function(t,e,n){t.addEventListener(e,n,!1)}:n.attachEvent&&(i=function(t,n,i){t[n+i]=i.handleEvent?function(){var n=e(t);i.handleEvent.call(i,n)}:function(){var n=e(t);i.call(t,n)},t.attachEvent("on"+n,t[n+i])});var o=function(){};n.removeEventListener?o=function(t,e,n){t.removeEventListener(e,n,!1)}:n.detachEvent&&(o=function(t,e,n){t.detachEvent("on"+e,t[e+n]);try{delete t[e+n]}catch(i){t[e+n]=void 0}});var r={bind:i,unbind:o};"function"==typeof define&&define.amd?define("eventie/eventie",r):"object"==typeof exports?module.exports=r:t.eventie=r}(window),function(t){function e(t){"function"==typeof t&&(e.isReady?t():s.push(t))}function n(t){var n="readystatechange"===t.type&&"complete"!==r.readyState;e.isReady||n||i()}function i(){e.isReady=!0;for(var t=0,n=s.length;n>t;t++){var i=s[t];i()}}function o(o){return"complete"===r.readyState?i():(o.bind(r,"DOMContentLoaded",n),o.bind(r,"readystatechange",n),o.bind(t,"load",n)),e}var r=t.document,s=[];e.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],o):"object"==typeof exports?module.exports=o(require("eventie")):t.docReady=o(t.eventie)}(window),function(){function t(){}function e(t,e){for(var n=t.length;n--;)if(t[n].listener===e)return n;return-1}function n(t){return function(){return this[t].apply(this,arguments)}}var i=t.prototype,o=this,r=o.EventEmitter;i.getListeners=function(t){var e,n,i=this._getEvents();if(t instanceof RegExp){e={};for(n in i)i.hasOwnProperty(n)&&t.test(n)&&(e[n]=i[n])}else e=i[t]||(i[t]=[]);return e},i.flattenListeners=function(t){var e,n=[];for(e=0;e<t.length;e+=1)n.push(t[e].listener);return n},i.getListenersAsObject=function(t){var e,n=this.getListeners(t);return n instanceof Array&&(e={},e[t]=n),e||n},i.addListener=function(t,n){var i,o=this.getListenersAsObject(t),r="object"==typeof n;for(i in o)o.hasOwnProperty(i)&&-1===e(o[i],n)&&o[i].push(r?n:{listener:n,once:!1});return this},i.on=n("addListener"),i.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(t){return this.getListeners(t),this},i.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},i.removeListener=function(t,n){var i,o,r=this.getListenersAsObject(t);for(o in r)r.hasOwnProperty(o)&&(i=e(r[o],n),-1!==i&&r[o].splice(i,1));return this},i.off=n("removeListener"),i.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},i.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},i.manipulateListeners=function(t,e,n){var i,o,r=t?this.removeListener:this.addListener,s=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(i=n.length;i--;)r.call(this,e,n[i]);else for(i in e)e.hasOwnProperty(i)&&(o=e[i])&&("function"==typeof o?r.call(this,i,o):s.call(this,i,o));return this},i.removeEvent=function(t){var e,n=typeof t,i=this._getEvents();if("string"===n)delete i[t];else if(t instanceof RegExp)for(e in i)i.hasOwnProperty(e)&&t.test(e)&&delete i[e];else delete this._events;return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(t,e){var n,i,o,r,s=this.getListenersAsObject(t);for(o in s)if(s.hasOwnProperty(o))for(i=s[o].length;i--;)n=s[o][i],n.once===!0&&this.removeListener(t,n.listener),r=n.listener.apply(this,e||[]),r===this._getOnceReturnValue()&&this.removeListener(t,n.listener);return this},i.trigger=n("emitEvent"),i.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},i.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},i._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},i._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return o.EventEmitter=r,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:o.EventEmitter=t}.call(this),function(t){function e(t){if(t){if("string"==typeof i[t])return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e,o=0,r=n.length;r>o;o++)if(e=n[o]+t,"string"==typeof i[e])return e}}var n="Webkit Moz ms Ms O".split(" "),i=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return e}):"object"==typeof exports?module.exports=e:t.getStyleProperty=e}(window),function(t){function e(t){var e=parseFloat(t),n=-1===t.indexOf("%")&&!isNaN(e);return n&&e}function n(){}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0,n=s.length;n>e;e++){var i=s[e];t[i]=0}return t}function o(n){function o(){if(!p){p=!0;var i=t.getComputedStyle;if(h=function(){var t=i?function(t){return i(t,null)}:function(t){return t.currentStyle};return function(e){var n=t(e);return n||r("Style returned "+n+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),n}}(),u=n("boxSizing")){var o=document.createElement("div");o.style.width="200px",o.style.padding="1px 2px 3px 4px",o.style.borderStyle="solid",o.style.borderWidth="1px 2px 3px 4px",o.style[u]="border-box";var s=document.body||document.documentElement;s.appendChild(o);var a=h(o);l=200===e(a.width),s.removeChild(o)}}}function a(t){if(o(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var n=h(t);if("none"===n.display)return i();var r={};r.width=t.offsetWidth,r.height=t.offsetHeight;for(var a=r.isBorderBox=!(!u||!n[u]||"border-box"!==n[u]),p=0,d=s.length;d>p;p++){var f=s[p],m=n[f];m=c(t,m);var g=parseFloat(m);r[f]=isNaN(g)?0:g}var y=r.paddingLeft+r.paddingRight,v=r.paddingTop+r.paddingBottom,b=r.marginLeft+r.marginRight,w=r.marginTop+r.marginBottom,x=r.borderLeftWidth+r.borderRightWidth,E=r.borderTopWidth+r.borderBottomWidth,T=a&&l,L=e(n.width);L!==!1&&(r.width=L+(T?0:y+x));var _=e(n.height);return _!==!1&&(r.height=_+(T?0:v+E)),r.innerWidth=r.width-(y+x),r.innerHeight=r.height-(v+E),r.outerWidth=r.width+b,r.outerHeight=r.height+w,r}}function c(e,n){if(t.getComputedStyle||-1===n.indexOf("%"))return n;var i=e.style,o=i.left,r=e.runtimeStyle,s=r&&r.left;return s&&(r.left=e.currentStyle.left),i.left=n,n=i.pixelLeft,i.left=o,s&&(r.left=s),n}var h,u,l,p=!1;return a}var r="undefined"==typeof console?n:function(t){console.error(t)},s=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],o):"object"==typeof exports?module.exports=o(require("desandro-get-style-property")):t.getSize=o(t.getStyleProperty)}(window),function(t){function e(t,e){return t[s](e)}function n(t){if(!t.parentNode){var e=document.createDocumentFragment();e.appendChild(t)}}function i(t,e){n(t);for(var i=t.parentNode.querySelectorAll(e),o=0,r=i.length;r>o;o++)if(i[o]===t)return!0;return!1}function o(t,i){return n(t),e(t,i)}var r,s=function(){if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],n=0,i=e.length;i>n;n++){var o=e[n],r=o+"MatchesSelector";if(t[r])return r}}();if(s){var a=document.createElement("div"),c=e(a,"div");r=c?e:o}else r=i;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return r}):"object"==typeof exports?module.exports=r:window.matchesSelector=r}(Element.prototype),function(t){function e(t,e){for(var n in e)t[n]=e[n];return t}function n(t){for(var e in t)return!1;return e=null,!0}function i(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function o(t,o,r){function a(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var c=r("transition"),h=r("transform"),u=c&&h,l=!!r("perspective"),p={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[c],d=["transform","transition","transitionDuration","transitionProperty"],f=function(){for(var t={},e=0,n=d.length;n>e;e++){var i=d[e],o=r(i);o&&o!==i&&(t[i]=o)}return t}();e(a.prototype,t.prototype),a.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},a.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},a.prototype.getSize=function(){this.size=o(this.element)},a.prototype.css=function(t){var e=this.element.style;for(var n in t){var i=f[n]||n;e[i]=t[n]}},a.prototype.getPosition=function(){var t=s(this.element),e=this.layout.options,n=e.isOriginLeft,i=e.isOriginTop,o=parseInt(t[n?"left":"right"],10),r=parseInt(t[i?"top":"bottom"],10);o=isNaN(o)?0:o,r=isNaN(r)?0:r;var a=this.layout.size;o-=n?a.paddingLeft:a.paddingRight,r-=i?a.paddingTop:a.paddingBottom,this.position.x=o,this.position.y=r},a.prototype.layoutPosition=function(){var t=this.layout.size,e=this.layout.options,n={};e.isOriginLeft?(n.left=this.position.x+t.paddingLeft+"px",n.right=""):(n.right=this.position.x+t.paddingRight+"px",n.left=""),e.isOriginTop?(n.top=this.position.y+t.paddingTop+"px",n.bottom=""):(n.bottom=this.position.y+t.paddingBottom+"px",n.top=""),this.css(n),this.emitEvent("layout",[this])};var m=l?function(t,e){return"translate3d("+t+"px, "+e+"px, 0)"}:function(t,e){return"translate("+t+"px, "+e+"px)"};a.prototype._transitionTo=function(t,e){this.getPosition();var n=this.position.x,i=this.position.y,o=parseInt(t,10),r=parseInt(e,10),s=o===this.position.x&&r===this.position.y;if(this.setPosition(t,e),s&&!this.isTransitioning)return void this.layoutPosition();var a=t-n,c=e-i,h={},u=this.layout.options;a=u.isOriginLeft?a:-a,c=u.isOriginTop?c:-c,h.transform=m(a,c),this.transition({to:h,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},a.prototype.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},a.prototype.moveTo=u?a.prototype._transitionTo:a.prototype.goTo,a.prototype.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},a.prototype._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},a.prototype._transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);
var e=this._transn;for(var n in t.onTransitionEnd)e.onEnd[n]=t.onTransitionEnd[n];for(n in t.to)e.ingProperties[n]=!0,t.isCleaning&&(e.clean[n]=!0);if(t.from){this.css(t.from);var i=this.element.offsetHeight;i=null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var g=h&&i(h)+",opacity";a.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:g,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(p,this,!1))},a.prototype.transition=a.prototype[c?"_transition":"_nonTransition"],a.prototype.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},a.prototype.onotransitionend=function(t){this.ontransitionend(t)};var y={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};a.prototype.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,i=y[t.propertyName]||t.propertyName;if(delete e.ingProperties[i],n(e.ingProperties)&&this.disableTransition(),i in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[i]),i in e.onEnd){var o=e.onEnd[i];o.call(this),delete e.onEnd[i]}this.emitEvent("transitionEnd",[this])}},a.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(p,this,!1),this.isTransitioning=!1},a.prototype._removeStyles=function(t){var e={};for(var n in t)e[n]="";this.css(e)};var v={transitionProperty:"",transitionDuration:""};return a.prototype.removeTransitionStyles=function(){this.css(v)},a.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},a.prototype.remove=function(){if(!c||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var t=this;this.on("transitionEnd",function(){return t.removeElem(),!0}),this.hide()},a.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options;this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0})},a.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options;this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},a.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},a}var r=t.getComputedStyle,s=r?function(t){return r(t,null)}:function(t){return t.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],o):"object"==typeof exports?module.exports=o(require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property")):(t.Outlayer={},t.Outlayer.Item=o(t.EventEmitter,t.getSize,t.getStyleProperty))}(window),function(t){function e(t,e){for(var n in e)t[n]=e[n];return t}function n(t){return"[object Array]"===l.call(t)}function i(t){var e=[];if(n(t))e=t;else if(t&&"number"==typeof t.length)for(var i=0,o=t.length;o>i;i++)e.push(t[i]);else e.push(t);return e}function o(t,e){var n=d(e,t);-1!==n&&e.splice(n,1)}function r(t){return t.replace(/(.)([A-Z])/g,function(t,e,n){return e+"-"+n}).toLowerCase()}function s(n,s,l,d,f,m){function g(t,n){if("string"==typeof t&&(t=a.querySelector(t)),!t||!p(t))return void(c&&c.error("Bad "+this.constructor.namespace+" element: "+t));this.element=t,this.options=e({},this.constructor.defaults),this.option(n);var i=++y;this.element.outlayerGUID=i,v[i]=this,this._create(),this.options.isInitLayout&&this.layout()}var y=0,v={};return g.namespace="outlayer",g.Item=m,g.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},e(g.prototype,l.prototype),g.prototype.option=function(t){e(this.options,t)},g.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),e(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},g.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},g.prototype._itemize=function(t){for(var e=this._filterFindItemElements(t),n=this.constructor.Item,i=[],o=0,r=e.length;r>o;o++){var s=e[o],a=new n(s,this);i.push(a)}return i},g.prototype._filterFindItemElements=function(t){t=i(t);for(var e=this.options.itemSelector,n=[],o=0,r=t.length;r>o;o++){var s=t[o];if(p(s))if(e){f(s,e)&&n.push(s);for(var a=s.querySelectorAll(e),c=0,h=a.length;h>c;c++)n.push(a[c])}else n.push(s)}return n},g.prototype.getItemElements=function(){for(var t=[],e=0,n=this.items.length;n>e;e++)t.push(this.items[e].element);return t},g.prototype.layout=function(){this._resetLayout(),this._manageStamps();var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},g.prototype._init=g.prototype.layout,g.prototype._resetLayout=function(){this.getSize()},g.prototype.getSize=function(){this.size=d(this.element)},g.prototype._getMeasurement=function(t,e){var n,i=this.options[t];i?("string"==typeof i?n=this.element.querySelector(i):p(i)&&(n=i),this[t]=n?d(n)[e]:i):this[t]=0},g.prototype.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},g.prototype._getItemsForLayout=function(t){for(var e=[],n=0,i=t.length;i>n;n++){var o=t[n];o.isIgnored||e.push(o)}return e},g.prototype._layoutItems=function(t,e){function n(){i.emitEvent("layoutComplete",[i,t])}var i=this;if(!t||!t.length)return void n();this._itemsOn(t,"layout",n);for(var o=[],r=0,s=t.length;s>r;r++){var a=t[r],c=this._getItemLayoutPosition(a);c.item=a,c.isInstant=e||a.isLayoutInstant,o.push(c)}this._processLayoutQueue(o)},g.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},g.prototype._processLayoutQueue=function(t){for(var e=0,n=t.length;n>e;e++){var i=t[e];this._positionItem(i.item,i.x,i.y,i.isInstant)}},g.prototype._positionItem=function(t,e,n,i){i?t.goTo(e,n):t.moveTo(e,n)},g.prototype._postLayout=function(){this.resizeContainer()},g.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},g.prototype._getContainerSize=u,g.prototype._setContainerMeasure=function(t,e){if(void 0!==t){var n=this.size;n.isBorderBox&&(t+=e?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},g.prototype._itemsOn=function(t,e,n){function i(){return o++,o===r&&n.call(s),!0}for(var o=0,r=t.length,s=this,a=0,c=t.length;c>a;a++){var h=t[a];h.on(e,i)}},g.prototype.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},g.prototype.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},g.prototype.stamp=function(t){if(t=this._find(t)){this.stamps=this.stamps.concat(t);for(var e=0,n=t.length;n>e;e++){var i=t[e];this.ignore(i)}}},g.prototype.unstamp=function(t){if(t=this._find(t))for(var e=0,n=t.length;n>e;e++){var i=t[e];o(i,this.stamps),this.unignore(i)}},g.prototype._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=i(t)):void 0},g.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var t=0,e=this.stamps.length;e>t;t++){var n=this.stamps[t];this._manageStamp(n)}}},g.prototype._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},g.prototype._manageStamp=u,g.prototype._getElementOffset=function(t){var e=t.getBoundingClientRect(),n=this._boundingRect,i=d(t),o={left:e.left-n.left-i.marginLeft,top:e.top-n.top-i.marginTop,right:n.right-e.right-i.marginRight,bottom:n.bottom-e.bottom-i.marginBottom};return o},g.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},g.prototype.bindResize=function(){this.isResizeBound||(n.bind(t,"resize",this),this.isResizeBound=!0)},g.prototype.unbindResize=function(){this.isResizeBound&&n.unbind(t,"resize",this),this.isResizeBound=!1},g.prototype.onresize=function(){function t(){e.resize(),delete e.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var e=this;this.resizeTimeout=setTimeout(t,100)},g.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},g.prototype.needsResizeLayout=function(){var t=d(this.element),e=this.size&&t;return e&&t.innerWidth!==this.size.innerWidth},g.prototype.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},g.prototype.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},g.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){var n=this.items.slice(0);this.items=e.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(n)}},g.prototype.reveal=function(t){var e=t&&t.length;if(e)for(var n=0;e>n;n++){var i=t[n];i.reveal()}},g.prototype.hide=function(t){var e=t&&t.length;if(e)for(var n=0;e>n;n++){var i=t[n];i.hide()}},g.prototype.getItem=function(t){for(var e=0,n=this.items.length;n>e;e++){var i=this.items[e];if(i.element===t)return i}},g.prototype.getItems=function(t){if(t&&t.length){for(var e=[],n=0,i=t.length;i>n;n++){var o=t[n],r=this.getItem(o);r&&e.push(r)}return e}},g.prototype.remove=function(t){t=i(t);var e=this.getItems(t);if(e&&e.length){this._itemsOn(e,"remove",function(){this.emitEvent("removeComplete",[this,e])});for(var n=0,r=e.length;r>n;n++){var s=e[n];s.remove(),o(s,this.items)}}},g.prototype.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="";for(var e=0,n=this.items.length;n>e;e++){var i=this.items[e];i.destroy()}this.unbindResize();var o=this.element.outlayerGUID;delete v[o],delete this.element.outlayerGUID,h&&h.removeData(this.element,this.constructor.namespace)},g.data=function(t){var e=t&&t.outlayerGUID;return e&&v[e]},g.create=function(t,n){function i(){g.apply(this,arguments)}return Object.create?i.prototype=Object.create(g.prototype):e(i.prototype,g.prototype),i.prototype.constructor=i,i.defaults=e({},g.defaults),e(i.defaults,n),i.prototype.settings={},i.namespace=t,i.data=g.data,i.Item=function(){m.apply(this,arguments)},i.Item.prototype=new m,s(function(){for(var e=r(t),n=a.querySelectorAll(".js-"+e),o="data-"+e+"-options",s=0,u=n.length;u>s;s++){var l,p=n[s],d=p.getAttribute(o);try{l=d&&JSON.parse(d)}catch(t){c&&c.error("Error parsing "+o+" on "+p.nodeName.toLowerCase()+(p.id?"#"+p.id:"")+": "+t);continue}var f=new i(p,l);h&&h.data(p,t,f)}}),h&&h.bridget&&h.bridget(t,i),i},g.Item=m,g}var a=t.document,c=t.console,h=t.jQuery,u=function(){},l=Object.prototype.toString,p="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(t){return t instanceof HTMLElement}:function(t){return t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName},d=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1};"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],s):"object"==typeof exports?module.exports=s(require("eventie"),require("doc-ready"),require("wolfy87-eventemitter"),require("get-size"),require("desandro-matches-selector"),require("./item")):t.Outlayer=s(t.eventie,t.docReady,t.EventEmitter,t.getSize,t.matchesSelector,t.Outlayer.Item)}(window),function(t,e){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],e):"object"==typeof exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window,function(t,e){var n=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var n=0,i=t.length;i>n;n++){var o=t[n];if(o===e)return n}return-1},i=t.create("masonry");return i.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var t=this.cols;for(this.colYs=[];t--;)this.colYs.push(0);this.maxY=0},i.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],n=t&&t.element;this.columnWidth=n&&e(n).outerWidth||this.containerWidth}var i=this.columnWidth+=this.gutter,o=this.containerWidth+this.gutter,r=o/i,s=i-o%i,a=s&&1>s?"round":"floor";r=Math[a](r),this.cols=Math.max(r,1)},i.prototype.getContainerWidth=function(){var t=this.options.isFitWidth?this.element.parentNode:this.element,n=e(t);this.containerWidth=n&&n.innerWidth},i.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,i=e&&1>e?"round":"ceil",o=Math[i](t.size.outerWidth/this.columnWidth);o=Math.min(o,this.cols);for(var r=this._getColGroup(o),s=Math.min.apply(Math,r),a=n(r,s),c={x:this.columnWidth*a,y:s},h=s+t.size.outerHeight,u=this.cols+1-r.length,l=0;u>l;l++)this.colYs[a+l]=h;return c},i.prototype._getColGroup=function(t){if(2>t)return this.colYs;for(var e=[],n=this.cols+1-t,i=0;n>i;i++){var o=this.colYs.slice(i,i+t);e[i]=Math.max.apply(Math,o)}return e},i.prototype._manageStamp=function(t){var n=e(t),i=this._getElementOffset(t),o=this.options.isOriginLeft?i.left:i.right,r=o+n.outerWidth,s=Math.floor(o/this.columnWidth);s=Math.max(0,s);var a=Math.floor(r/this.columnWidth);a-=r%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var c=(this.options.isOriginTop?i.top:i.bottom)+n.outerHeight,h=s;a>=h;h++)this.colYs[h]=Math.max(c,this.colYs[h])},i.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this.options.isFitWidth&&(t.width=this._getContainerFitWidth()),t},i.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},i.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!==this.containerWidth},i}),function(t){"use strict";function e(){this.rootNode=null,this.currentPage=1,this._masonry=null,this._lastPhotoNode=null}var n=t.debounce,i=$(".select"),o=i.offset();$(window).scroll(function(){$(window).scrollTop()+50>o.top?i.addClass("fixed"):i.removeClass("fixed")}),e.prototype.init=function(t){this.rootNode=t,this._masonry=new Masonry(t,{gutter:8,isFitWidth:!1,itemSelector:".photo",hiddenStyle:{opacity:0},visibleStyle:{opacity:1},transitionDuration:"7.8s"}),window.onscroll=n(this.onscroll.bind(this)),this.applied()},e.prototype.applied=function(){$(".lightbox").colorbox({rel:"gallery",fixed:!0,height:"90%",transition:"elastic",speed:360,width:"90%"}),this._lastPhotoNode=this.rootNode.querySelector(".photo:last-of-type")},e.prototype.onscroll=function(){document.documentElement.clientHeight>this._lastPhotoNode.getBoundingClientRect().top},t.PhotoGallery=e}((this||0).self||global);
//# sourceMappingURL=photoGallery.min.js.map