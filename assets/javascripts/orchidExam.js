"use strict";function getCorrectAnswers(){var e=questions.map(function(e){for(var t in e.answers)if(e.answers[t].is_correct)return e.answers[t].choice});return e}function checkAnswers(){for(var e=[],t=getCorrectAnswers(),r=1,a=questions.length;a>=r;r++)e.push($("input[name=group"+r+"]:checked").val()?$("input[name=group"+r+"]:checked").val():"未選択");var n=e.map(function(e,r){var a;return e===t[r]?(++exam.correctsNumber,a='<div style="margin-top: 15px;"><span style="color: red; font-weight: bold;">◯</span> あなたの回答 : <span style="color: red;">'+e+"</span><div>"):a='<div style="margin-top: 15px;"><span style="color: blue; font-weight: bold;">×</span> あなたの回答 : '+e+'</div><div style="color: red;">　正解 : '+t[r]+"</div>",a});for(var r in n){var o=+r+1;$("#true_or_false"+o).html(n[r])}makeRecord(),$("#t_userName").val()&&(exam.userName=sanitaize($("#t_userName").val()),registResult()),deleteElement(),createLinks()}function registResult(){$.ajax({type:"POST",url:"/play/exam",data:{exam:exam}})}function makeRecord(){$("#record").show();var e={},t=null;return t="easy"===exam.type?"初級編":"hard"===exam.type?"上級編":"博士編",exam.record=exam.point*exam.correctsNumber,e.lisence=100!==exam.questionNumber?exam.record>=90?t+"1級":exam.record>=80?t+"2級":exam.record>=70?t+"3級":exam.record>=60?t+"4級":exam.record>=50?t+"5級":exam.record>=40?t+"6級":exam.record>=30?t+"7級":exam.record>=20?t+"8級":exam.record>=10?t+"9級":t+"10級":exam.record>=90?t+"十段":exam.record>=80?t+"九段":exam.record>=70?t+"八段":exam.record>=60?t+"七段":exam.record>=50?t+"六段":exam.record>=40?t+"五段":exam.record>=30?t+"四段":exam.record>=20?t+"三段":exam.record>=10?t+"二段":t+"一段",exam.record=exam.record+"点",$("#record").html('<div style="text-align: center; font-weight: bold;">あなたの検定結果は '+e.lisence+' !</div><div style="text-align: center; font-weight: bold;">今回の点数は '+exam.record+" でした。</div>"),exam.record}function deleteElement(){$(".choices").remove(),$("#chk").remove(),$("#examHeader").remove()}function createLinks(){$(".links").html('<div style="text-align :center; margin-bottom: 20px;"><input type="button" value="もう1度挑戦する" onclick="location.reload()" class="btn"></div><div style="text-align :center;"><a href="/play/exam/">ラン検定トップへ</div>')}function finish(){exam.time=0}function toMs(e){if(!(0>e)){var t="",r=e/60|0,a=e%60;return t=0!=r?r+"分"+a+"秒":a+"秒"}}function sanitaize(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}var exam={},init=$(function(){exam.questionNumber=questions.length,exam.time=25===exam.questionNumber?900:3600,exam.point=25===exam.questionNumber?4:1,exam.correctsNumber=0,exam.record=0,exam.type=questions[0].type,exam.userName=null;var e=setInterval(function(){0===exam.time&&(clearInterval(e),checkAnswers()),exam.time--,$("#time").text(toMs(exam.time))},1e3)});
//# sourceMappingURL=orchidExam.js.map